webpackJsonp([64],{LVLt:function(e,t){},iDHZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ZLEe"),o=a.n(l),n=a("9V8D"),s=a("zY1m"),i=a("XH94"),r=a("a9+l"),c={data:function(){return{totalRecords:0,totalPageCnt:0,pagin_show:!0,pageIndex:1,pageSize:10,oweType:2,goodsName:"",treeName:"",oweStatus:"",provinceName:"",oweName:"",tableData:[],handleDetailShow:!1,dailogTitleType:"提示",dialogVisible:!1,dailogCon:""}},mounted:function(){var e=this.getsearchInfo(this.pageIndex,this.pageSize);this.getData(e)},components:{departComponet:i.a,datepicker:s.a,elPagination:r.a},methods:{getData:function(e){var t=this;2==this.oweType?Object(n.i)(e).then(function(e){var a=e.data.data;o()(a.dataList).length>0?(t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)}):3==this.oweType?Object(n.i)(e).then(function(e){var a=e.data.data;o()(a.dataList).length>0?(t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)}):4==this.oweType&&Object(n.i)(e).then(function(e){var a=e.data.data;o()(a.dataList).length>0?(t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)})},getsearchInfo:function(e,t){console.log(this.oweType);var a={};return 2==this.oweType?a={pageIndex:e,pageSize:t,oweType:this.oweType,goodsName:this.goodsName,oweName:this.oweName,oweStatus:this.oweStatus}:3==this.oweType?a={pageIndex:e,pageSize:t,oweType:this.oweType,goodsName:this.goodsName,oweName:this.oweName,oweStatus:this.oweStatus}:4==this.oweType&&(a={pageIndex:e,pageSize:t,oweType:this.oweType,goodsName:this.goodsName,oweName:this.oweName,oweStatus:this.oweStatus}),a},getPolicyOweDeal:function(){var e=this;Object(n.h)({ordersOweId:this.ordersOweId,oweStatus:this.oweStatus}).then(function(t){console.log(t),e.dialogVisible=!1,e.oweStatus="";var a=e.getsearchInfo(e.pageIndex,e.pageSize);e.getData(a)})},searchQuery:function(){var e=this.getsearchInfo(1,this.pageSize);this.getData(e)},updataPage:function(e){console.log(e),this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.getData(this.pageIndex,this.pageSize)},selectSuccess:function(e){this.departmentId=e},changeHandler:function(e){this.tableData=[];var t=this.getsearchInfo(this.pageIndex,this.pageSize);this.getData(t)},backBtn:function(){this.handleEditShow=!1,this.getData(this.pageIndex,this.pageSize,this.nameOrTel,this.selStatus,this.selSole)},checkOutOrderInfo:function(){var e=this.getsearchInfo(this.pageIndex,this.pageSize);Object(n.b)(e).then(function(e){var t=(new Date).getTime()+".xls",a=new Blob([e.data]),l=document.createElement("a");l.download=t,l.style.display="none",l.href=URL.createObjectURL(a),console.log(l.href),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)})},handleCheck:function(e,t){this.$router.push({path:"/policyOweDetailZB",query:{id:t.id,oweStatus:t.oweStatus}})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accountManage"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.handleDetailShow,expression:"!handleDetailShow"}],attrs:{id:""}},[a("div",{staticClass:"search_wrap"},[a("el-radio-group",{staticClass:"selectRadio",on:{change:e.changeHandler},model:{value:e.oweType,callback:function(t){e.oweType=t},expression:"oweType"}},[a("el-radio",{attrs:{label:2}},[e._v("需补货产品")]),e._v(" "),a("el-radio",{attrs:{label:3}},[e._v("主品盈余")]),e._v(" "),a("el-radio",{attrs:{label:4}},[e._v("其他")])],1),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"区域经理："}},[a("el-input",{attrs:{placeholder:"请输入区域经理"},model:{value:e.oweName,callback:function(t){e.oweName=t},expression:"oweName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品名称："}},[a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1),e._v(" "),2==e.oweType?a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.oweStatus,callback:function(t){e.oweStatus=t},expression:"oweStatus"}},[a("el-option",{attrs:{label:"请选择状态",value:""}}),e._v(" "),a("el-option",{attrs:{label:"未提交",value:6}}),e._v(" "),a("el-option",{attrs:{label:"已提交",value:4}}),e._v(" "),a("el-option",{attrs:{label:"已完成",value:7}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:5}})],1)],1):a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择状态"},model:{value:e.oweStatus,callback:function(t){e.oweStatus=t},expression:"oweStatus"}},[a("el-option",{attrs:{label:"请选择状态",value:""}}),e._v(" "),a("el-option",{attrs:{label:"待处理",value:8}}),e._v(" "),a("el-option",{attrs:{label:"已处理",value:9}})],1)],1),e._v(" "),a("button",{staticClass:"el-button-red",on:{click:e.searchQuery}},[e._v("查询")]),e._v(" "),a("button",{staticClass:"el-button-red",on:{click:e.checkOutOrderInfo}},[e._v("导出")])],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[2==e.oweType?a("el-table",{key:"firstTable",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"treeName",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweName",label:"区域经理",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalBox",label:"数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"合计金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweStatusStr",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operateBtn",on:{click:function(a){e.handleCheck(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1):e._e(),e._v(" "),3==e.oweType?a("el-table",{key:"twoTable",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"treeName",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweName",label:"区域经理",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalBox",label:"采购数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"采购单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweStatusStr",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:"已处理"!=t.row.oweStatusStr,expression:'scope.row.oweStatusStr != "已处理" '}],staticClass:"operateBtn",on:{click:function(t){e.dialogVisible=!0}}},[e._v("待处理")]),e._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){e.handleCheck(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1):e._e(),e._v(" "),4==e.oweType?a("el-table",{key:"lastTable",attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"treeName",label:"部门",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweName",label:"区域经理",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"职级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalBox",label:"采购数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"采购单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweStatusStr",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:"已处理"!=t.row.oweStatusStr,expression:'scope.row.oweStatusStr != "已处理" '}],staticClass:"operateBtn",on:{click:function(a){e.dialogVisible=!0,e.oweStatus=t.row.oweStatus,e.ordersOweId=t.row.id}}},[e._v("待处理")]),e._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){e.handleCheck(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1):e._e()],1)]),e._v(" "),a("el-dialog",{staticClass:"elDialogAddress",attrs:{title:e.dailogTitleType,visible:e.dialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dailogCon"},[a("span",[e._v(e._s(e.dailogCon))])]),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"dialogBtnTrue",on:{click:function(t){e.getPolicyOweDeal()}}},[e._v("确定")])])]),e._v(" "),a("el-pagination",{attrs:{pageIndex:e.pageIndex,pageSize:e.pageSize,totalRecords:e.totalRecords,totalPageCnt:e.totalPageCnt,pagin_show:e.pagin_show},on:{clickpage:e.updataPage}})],1)},staticRenderFns:[]};var d=a("C7Lr")(c,p,!1,function(e){a("LVLt")},"data-v-594d8910",null);t.default=d.exports}});
//# sourceMappingURL=64.c98873c7182c8b44e0ef.js.map