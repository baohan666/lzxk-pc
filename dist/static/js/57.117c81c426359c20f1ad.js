webpackJsonp([57],{Cq0O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("zY1m"),o=a("gFbb"),r=a("a9+l"),i=a("DMbw"),n={data:function(){return{startDate:"",endDate:"",goodsName:"",manufacturer:"",tableData:[],totalRecords:0,totalPageCnt:0,pageIndex:1,pageSize:10,pagin_show:!0,dialogAadVisible:!1,ruleForm:{goodsName:"",manufacturer:"",specsMax:"",unit:"",mainEffect:"",remark:""},rules:{goodsName:{required:!0,message:"请输入产品名称",trigger:"blur"},specsMax:{required:!0,message:"请输入规格",trigger:"blur"}},isEdit:!0}},created:function(){var e=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(e)},components:{elPagination:r.a,addressPlugin:o.a,datepicker:l.a},methods:{initData:function(e){var t=this;Object(i.t)(e).then(function(e){var a=e.data.data;a.dataList.length>0?(t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)})},getsearchInfo:function(e,t){return{pageIndex:e,pageSize:t,startDate:this.startDate,endDate:this.endDate,goodsName:this.goodsName,manufacturer:this.manufacturer}},changeSelect:function(e){"startDate"==e.type?this.startDate=e.data:this.endDate=e.data},toInquire:function(){var e=this.getsearchInfo(1,this.pageSize);this.initData(e)},exportBaseInfoData:function(){var e={startDate:this.startDate,endDate:this.endDate,goodsName:this.goodsName,manufacturer:this.manufacturer};Object(i.i)(e).then(function(e){var t=(new Date).getTime()+".xls",a=new Blob([e.data]),l=document.createElement("a");l.download=t,l.style.display="none",l.href=URL.createObjectURL(a),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)})},toAddGoods:function(){this.ruleForm={},this.isEdit=!1,this.dialogAadVisible=!0},add_sure:function(e,t){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var l=a.ruleForm;t?(console.log("编辑"),Object(i.f)(l).then(function(e){var t=a.getsearchInfo(a.pageIndex,a.pageSize);a.initData(t),a.dialogAadVisible=!1})):(console.log("添加商品"),Object(i.a)(l).then(function(e){var t=a.getsearchInfo(a.pageIndex,a.pageSize);a.initData(t),a.dialogAadVisible=!1}))})},view:function(e){this.$router.push({path:"/view_researGoodsZB",query:{id:e}})},del:function(e){var t=this;Object(i.e)({goodsPreId:e}).then(function(e){var a=t.getsearchInfo(t.pageIndex,t.pageSize);t.initData(a)})},edit:function(e){var t=this;Object(i.r)({goodsPreId:e}).then(function(e){t.dialogAadVisible=!0,t.ruleForm=e.data.data,t.isEdit=!0,console.log(t.ruleForm)})},updataPage:function(e){this.pageSize=e.pageSize,this.pageIndex=e.pageIndex;var t=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(t)},handleSelectionChange:function(e){this.multipleSelection=e}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_wrap"},[a("div",[a("div",{staticClass:"div-inline el-button-red",on:{click:e.toAddGoods}},[e._v("添加商品")])]),e._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"产品名称："}},[a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产企业："}},[a("el-input",{attrs:{placeholder:"请输入生产企业"},model:{value:e.manufacturer,callback:function(t){e.manufacturer=t},expression:"manufacturer"}})],1),e._v(" "),a("div",{staticClass:"div-inline el-form-item"},[a("div",{staticClass:"div-inline"},[e._v("点击时间：")]),e._v(" "),a("datepicker",{staticClass:"div-inline",attrs:{startIsShow:"true",endIsShow:"true"},on:{changeSelect:e.changeSelect}})],1),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(t){e.toInquire()}}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:e.exportBaseInfoData}},[e._v("导出")])],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"selection",selectable:e.handleSelectionChange}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产企业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mainEffect",label:"功能主治"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createUserName",label:"创建人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"clickNum",label:"点击量",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operateBtn",on:{click:function(a){e.edit(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){e.del(t.row.id)}}},[e._v("删除")]),e._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){e.view(t.row.id)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{pageIndex:e.pageIndex,pageSize:e.pageSize,totalRecords:e.totalRecords,totalPageCnt:e.totalPageCnt,pagin_show:e.pagin_show},on:{clickpage:e.updataPage}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加产品",visible:e.dialogAadVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogAadVisible=t}}},[a("div",{staticClass:"dialog_body_content"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"产品名称",prop:"goodsName"}},[a("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.ruleForm.goodsName,callback:function(t){e.$set(e.ruleForm,"goodsName",t)},expression:"ruleForm.goodsName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"规格",prop:"specsMax"}},[a("el-input",{attrs:{placeholder:"请输入产品规格"},model:{value:e.ruleForm.specsMax,callback:function(t){e.$set(e.ruleForm,"specsMax",t)},expression:"ruleForm.specsMax"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"生产企业"}},[a("el-input",{attrs:{placeholder:"请输入生产企业"},model:{value:e.ruleForm.manufacturer,callback:function(t){e.$set(e.ruleForm,"manufacturer",t)},expression:"ruleForm.manufacturer"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"单位"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.ruleForm.unit,callback:function(t){e.$set(e.ruleForm,"unit",t)},expression:"ruleForm.unit"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"功能主治"}},[a("el-input",{attrs:{placeholder:"请输入主治功能"},model:{value:e.ruleForm.mainEffect,callback:function(t){e.$set(e.ruleForm,"mainEffect",t)},expression:"ruleForm.mainEffect"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"dialog-cancel-btn dialoperateBtn",on:{click:function(t){e.dialogAadVisible=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"dialog-sure-btn dialoperateBtn",on:{click:function(t){e.add_sure("ruleForm",e.isEdit)}}},[e._v("确定")])])])],1)},staticRenderFns:[]};var c=a("C7Lr")(n,s,!1,function(e){a("FZtX")},"data-v-7c47b8c9",null);t.default=c.exports},FZtX:function(e,t){}});
//# sourceMappingURL=57.117c81c426359c20f1ad.js.map