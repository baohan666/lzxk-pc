webpackJsonp([42],{"/7eF":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Agyp"),o=a("0EaZ"),i={data:function(){return{goodsDetai:{},tableData:[],dialogReasonVisible:!1,flagType:"",ordersCollectionId:this.$route.query.id,rejectReason:""}},created:function(){this.initData()},components:{goBack:s.a},mounted:function(){},methods:{initData:function(){var t=this;Object(o.c)({collectionId:this.ordersCollectionId}).then(function(e){console.log("调接口res:",e),t.goodsDetai=e.data.data,t.tableData=e.data.data.orders})},viewLog:function(t){var e=this;Object(o.d)({id:t}).then(function(a){e.$router.push({path:"/saleOrderDetailSQ",query:{id:t}})})},checkApply:function(t){var e=this;1==t&&(this.flagType=1,this.$confirm("您确定审核通过此回款单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(o.a)({flag:e.flagType,ordersCollectionId:e.ordersCollectionId}).then(function(t){console.log("审核通过成功"),e.$router.go(-1)})}).catch(function(){console.log("取消")})),2==t&&(this.flagType=2,this.dialogReasonVisible=!0)},noPassSure:function(){var t=this;if(""==this.rejectReason||0==this.rejectReason.length)return this.$message.error("请输入不通过原因"),!1;Object(o.a)({flag:this.flagType,ordersCollectionId:this.ordersCollectionId,rejectReason:this.rejectReason}).then(function(e){console.log("不通过成功"),t.$router.go(-1)})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("go-back",{attrs:{title:"回款详情"}}),t._v(" "),a("div",{staticClass:"infoDetail"},[a("el-row",{attrs:{gutter:20}},[a("span",[t._v("订单状态： "+t._s(0==t.goodsDetai.status?"待审核":1==t.goodsDetai.status?"审核通过":2==t.goodsDetai.status?"审核不通过":""))]),t._v(" "),a("span",[t._v("区域经理： "+t._s(t.goodsDetai.areaManager))]),t._v(" "),a("span",[t._v("所属区域： "+t._s(t.goodsDetai.areaName))]),t._v(" "),a("span",[t._v("结算方式： "+t._s(t.goodsDetai.orderTypeStr))]),t._v(" "),a("span",[t._v("回款金额： "+t._s(t.goodsDetai.actualCollectionPrice))])]),t._v(" "),2==t.goodsDetai.status?a("el-row",{attrs:{gutter:20}},[a("span",[t._v("不通过原因： "+t._s(t.goodsDetai.collectionLog))])]):t._e()],1),t._v(" "),a("div",{staticClass:"containInfo_wraper"},[t._m(0),t._v(" "),a("div",{staticClass:"detail_content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple imgWrap"},[a("viewer",{attrs:{images:t.goodsDetai.imgsList}},t._l(t.goodsDetai.imgsList,function(t){return a("img",{key:t,attrs:{src:t,width:"200"}})}))],1)]),t._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("备注")]),t._v("："+t._s(t.goodsDetai.remark))])])],1)],1)]),t._v(" "),a("div",{staticClass:"containInfo_wraper"},[t._m(1),t._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{attrs:{data:t.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"createDate",label:"提交订单时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ordersTypeStr",label:"订单类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ordersStatusStr",label:"订单状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsType",label:"产品数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalBalancePrice",label:"与省区结算贷款金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"collectionTypeStr",label:"结算方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operateBtn",on:{click:function(a){t.viewLog(e.row.id)}}},[t._v("查看销售订单")])]}}])})],1),t._v(" "),a("div",{staticClass:"table_wrap_bottom"},[t._v("\n        回款订单数："),a("span",[t._v(t._s(t.goodsDetai.orderNums))]),t._v("\n        回款订单金额统计："),a("span",[t._v("￥"+t._s(t.goodsDetai.needCollectionPrice))])])],1)]),t._v(" "),a("div",{staticClass:"operateWraper"},[0==t.goodsDetai.status?a("div",[a("div",{staticClass:"div-inline el-button-red",on:{click:function(e){t.checkApply(1)}}},[t._v("审核通过")]),t._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(e){t.checkApply(2)}}},[t._v("审核不通过")])]):t._e()]),t._v(" "),a("el-dialog",{attrs:{title:"审核",visible:t.dialogReasonVisible,"append-to-body":!0,width:"35%"},on:{"update:visible":function(e){t.dialogReasonVisible=e}}},[a("div",{staticClass:"dialog_body_content"},[a("div",{staticClass:"dialog_changePrice_reason"},[t._v("\n        不通过原因：\n        "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.rejectReason,expression:"rejectReason"}],staticClass:"checkReason",attrs:{placeholder:"请填写不通过原因",name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.rejectReason},on:{input:function(e){e.target.composing||(t.rejectReason=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"dialog-cancel-btn dialoperateBtn",on:{click:function(e){t.dialogReasonVisible=!1}}},[t._v("取消")]),t._v(" "),a("span",{staticClass:"dialog-sure-btn dialoperateBtn",on:{click:t.noPassSure}},[t._v("确定")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail_title"},[e("i",{staticClass:"line_Icon"}),this._v("回款证明：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail_title"},[e("i",{staticClass:"line_Icon"}),this._v("回款的订单")])}]};var r=a("C7Lr")(i,n,!1,function(t){a("Uu7r")},"data-v-02276192",null);e.default=r.exports},"0EaZ":function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return l}),a.d(e,"d",function(){return c});var s=a("lta2"),o=a("6iV/"),i=a.n(o),n=function(t){return s.a.post(s.a.baseURL+"provinceCollection/list",i.a.stringify(t))},r=function(t){return s.a.post(s.a.baseURL+"provinceCollection/detail",i.a.stringify(t))},l=function(t){return s.a.post(s.a.baseURL+"collection/check",i.a.stringify(t))},c=function(t){return s.a.post(s.a.baseURL+"provinceOrders/salesOrdersDetail",i.a.stringify(t))}},Uu7r:function(t,e){}});
//# sourceMappingURL=42.8aa191cf148cccf0abf7.js.map