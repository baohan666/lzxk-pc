webpackJsonp([22],{Zm5J:function(e,t){},qswi:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("XH94"),s=a("a9+l"),o=a("eYXE"),n={data:function(){return{departmentId:"",provinceCode:"",provinceCodeMenu:[],userStatus:"",userStatusMenu:[],isHaveSales:"",isHaveSalesMenu:{1:"有",2:"无"},salesDate:this.monthnow(),dialogAllotVisible:!1,tableData3:[],tableData:[],totalRecords:0,totalPageCnt:0,pageIndex:1,pageSize:10,pagin_show:!0}},created:function(){var e=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(e)},components:{departComponet:l.a,elPagination:s.a},methods:{monthnow:function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;return a=a<10?"0"+a:a,t.toString()+"-"+a.toString()},initData:function(e){var t=this;Object(o.n)(e).then(function(e){console.log("res:",e);var a=e.data.data;a.dataList.length>0?(t.pagin_show=!0,t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)})},getsearchInfo:function(e,t){return{pageIndex:e,pageSize:t,departmentId:this.departmentId,provinceCode:0==this.provinceCode?"":this.provinceCode,userStatus:0==this.userStatus?"":this.userStatus,isHaveSales:0==this.isHaveSales?"":this.isHaveSales,salesDate:""==this.salesDate?this.monthnow():this.salesDate}},toInquire:function(){var e=this.getsearchInfo(1,this.pageSize);this.initData(e)},exportBaseInfoData:function(){var e={departmentId:this.departmentId,provinceCode:0==this.provinceCode?"":this.provinceCode,userStatus:0==this.userStatus?"":this.userStatus,isHaveSales:0==this.isHaveSales?"":this.isHaveSales,salesDate:""==this.salesDate?this.monthnow():this.salesDate};Object(o.m)(e).then(function(e){var t=(new Date).getTime()+".xls",a=new Blob([e.data]),l=document.createElement("a");l.download=t,l.style.display="none",l.href=URL.createObjectURL(a),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)})},view:function(e){var t=this;this.dialogAllotVisible=!0,Object(o.o)({userId:e}).then(function(e){var a=e.data.data;a.length>0?t.tableData3=a:t.tableData3=[]})},updataPage:function(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize;var t=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(t)},selectSuccess:function(e){this.departmentId=e,console.log(this.departmentId)},getProvinceCode:function(){var e=this;Object(o.p)("").then(function(t){e.provinceCodeMenu=t.data.data,console.log("省区：",e.provinceCodeMenu)})},getUserStatus:function(){var e=this;Object(o.b)("").then(function(t){e.userStatusMenu=t.data.data,console.log("人员状态：",e.userStatusMenu)})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("div",{staticClass:"div-inline el-form-item"},[a("depart-componet",{attrs:{departMsg:"事业部："},on:{selectSuccess:e.selectSuccess}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省区"}},[a("el-select",{attrs:{placeholder:"请选择省区"},on:{focus:function(t){e.getProvinceCode()}},model:{value:e.provinceCode,callback:function(t){e.provinceCode=t},expression:"provinceCode"}},[a("el-option",{attrs:{label:"请选择省区",value:"0"}}),e._v(" "),e._l(e.provinceCodeMenu,function(e,t,l){return a("el-option",{key:l,attrs:{label:e.provinceName,value:e.provinceCode}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"人员状态"}},[a("el-select",{attrs:{placeholder:"请选择人员状态"},on:{focus:function(t){e.getUserStatus()}},model:{value:e.userStatus,callback:function(t){e.userStatus=t},expression:"userStatus"}},[a("el-option",{attrs:{label:"请选择人员状态",value:"0"}}),e._v(" "),e._l(e.userStatusMenu,function(e,t,l){return a("el-option",{key:l,attrs:{label:e,value:t}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"有无销售"}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:e.isHaveSales,callback:function(t){e.isHaveSales=t},expression:"isHaveSales"}},[a("el-option",{attrs:{label:"全部",value:"0"}}),e._v(" "),e._l(e.isHaveSalesMenu,function(e,t,l){return a("el-option",{key:l,attrs:{label:e,value:t}})})],2)],1),e._v(" "),a("div",{staticClass:"div-inline el-form-item"},[a("div",{staticClass:"div-inline"},[e._v("时间：")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM",type:"month",placeholder:"选择月"},model:{value:e.salesDate,callback:function(t){e.salesDate=t},expression:"salesDate"}})],1),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(t){e.toInquire()}}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(t){e.exportBaseInfoData()}}},[e._v("导出")])],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"deptName",label:"事业部"}}),e._v(" "),a("el-table-column",{attrs:{prop:"provinceName",label:"所属省区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"managerUserName",label:"省区经理"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"positionStr",label:"职务"}}),e._v(" "),a("el-table-column",{attrs:{prop:"departmentName",label:"部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userStatusStr",label:"人员状态"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isHaveSalesStr",label:"有无销售"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operateBtn",on:{click:function(a){e.view(t.row.userId)}}},[e._v("有无销售记录")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{pageIndex:e.pageIndex,pageSize:e.pageSize,totalRecords:e.totalRecords,totalPageCnt:e.totalPageCnt,pagin_show:e.pagin_show},on:{clickpage:e.updataPage}})],1),e._v(" "),a("el-dialog",{attrs:{title:"销售记录",visible:e.dialogAllotVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogAllotVisible=t}}},[a("div",{staticClass:"dialog_body_content"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData3,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"yearMonth",label:"月份"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isHaveSalesStr",label:"销售情况"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"dialog-cancel-btn dialoperateBtn",on:{click:function(t){e.dialogAllotVisible=!1}}},[e._v("确定")])])])],1)},staticRenderFns:[]};var r=a("C7Lr")(n,i,!1,function(e){a("wu2h"),a("Zm5J")},"data-v-f1b4cb20",null);t.default=r.exports},wu2h:function(e,t){}});
//# sourceMappingURL=22.d7b64d753fe12481f25e.js.map