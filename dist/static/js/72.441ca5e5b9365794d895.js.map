{"version":3,"sources":["webpack:///src/pages/province/marketManage/edit_promoPolicy.vue","webpack:///./src/pages/province/marketManage/edit_promoPolicy.vue?a368","webpack:///./src/pages/province/marketManage/edit_promoPolicy.vue"],"names":["edit_promoPolicy","data","id","policyTypes","policyTypeCheck","policyType","policyStartDate","policyEndDate","title","verificationStartDate","verificationEndDate","departmentMenu","remark","tableData1","tableData2","tableData3","rangeList","userId","goodsList","isradio","dialogSeleGoodsVisible","tableData","goodsNamem","specsMaxm","selectType","mainList","subList","goodsIdm","goodsId","pageIndex","pageSize","dialogRangeVisible","awardGoods","created","this","$route","query","type","initData","components","goBack","departComponet","departComponent","datepicker","data_plugin","elPagination","el_page","selectGoods","mainTable","main_table","subTable","sub_table","releaseRange","methods","_this","JSON","parse","Object","cache","promotionPolicy","policyId","then","res","datas","policyTypeStr","forEach","p","isChoose","push","item","index","arr","console","log","c","extends_default","length","changeSelect","val","selectAwardGoods","params","_this2","undefined","handleType","datalist","goodsName","name","$refs","dialogSeleGoods","dialogShow","isHuiKuan","$message","success","handleInput2","e","target","value","match","uploadData","_this3","includes","arraylist","awardNum","afterDiscountPrice","batchNumber","specsMax","clearProvMange","collectionNum","tablist","renderHeader","h","_this4","class","on","click","renderHeader1","_this5","delItem","filter","goodId","deleScopeRow","policyChange","setRange","_this6","dialogSeleProMa","toString","closeGoodsDiolog","closeDiolog","updataPage","getsearchInfo","setProvMange","_this7","isHuixian","getGoodsList","_this8","departmentIds","departmentId","formInline","saveAddPolGoods","_this9","trim","policyRule","isSubmit","obj","_num","slice","reverse","discountPrice","mainArray","subArray","_obj","_num2","_obj2","_num3","stringify_default","policyRange","code","$router","go","msg","_datalist","marketManage_edit_promoPolicy","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","inline","label-width","gutter","span","label","placeholder","change","model","callback","$$v","expression","key","startIsShow","endIsShow","starTim","endTim","directives","rawName","cols","rows","domProps","input","$event","composing","_e","border","tooltip-effect","render-header","scopedSlots","_u","fn","scope","_s","row","prop","oninput","$set","keydown","items","isView","relRangeList","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/72.441ca5e5b9365794d895.js","sourcesContent":["<template>\n\t<div class=\"create_wraper\">\n    <go-back v-if=\"this.$route.query.type == 1\" title=\"编辑促销政策\"></go-back>\n    <go-back v-else title=\"复制促销政策\"></go-back>\n\t\t<el-form :inline=\"true\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-form-inline\">\n\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>基本信息：</div>\n\t\t\t<div class=\"detail_content\">\n\t\t\t\t<el-row :gutter=\"20\">\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策类型：\" class=\"is-required\">\n\t\t\t\t\t\t    <el-select v-model=\"policyTypes\" placeholder=\"请选择政策类型\" @change =\"policyChange\">\n\t\t\t      \t\t\t\t<el-option  label=\"奖励政策\" value=\"2\" key=\"1\"></el-option>\n                  <el-option v-if=\"policyType==3\" label=\"回款奖励\" value=\"3\" key=\"2\"></el-option>\n                  <el-option v-else-if=\"policyType==4\" label=\"回款奖励\" value=\"4\" key=\"3\"></el-option>\n                  <el-option v-else label=\"回款奖励\" value=\"3\" key=\"4\"></el-option>\n\t\t\t\t\t\t    </el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策名称：\" class=\" is-required\">\n\t\t\t\t\t\t    <el-input v-model=\"title\" placeholder=\"请输入政策名称\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item is-required\">\n\t\t\t\t\t  \t\t<div class=\"div-inline el-form-item__label\">政策有效期：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" :starTim=\"policyStartDate\" :endTim=\"policyEndDate\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'policyValidDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item\">\n\t\t\t\t\t  \t\t<div class=\"div-inline\">核销期间：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" :starTim=\"verificationStartDate\" :endTim=\"verificationEndDate\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'verifyDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n           <el-col :span=\"7\" v-show=\"policyType==2\">\n            <div class=\"div-inline el-form-item is-required\">\n              <div class=\"div-inline el-form-item__label\">政策子类型：</div>\n              <el-select v-model=\"policyTypeCheck == null?'':policyTypeCheck\" placeholder=\"请选择政策子类型\">\n                <el-option  label=\"请选择政策子类型\" value=''></el-option>\n                <el-option  label=\"人员变动\" value=\"1\" key=\"1\"></el-option>\n                <el-option  label=\"库存处理\" value=\"2\" key=\"2\"></el-option>\n                <el-option  label=\"纯回款奖励\" value=\"3\" key=\"3\"></el-option>\n                <el-option  label=\"会议奖励\" value=\"4\" key=\"4\"></el-option>\n              </el-select>\n            </div>\n          </el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"20\">政策说明:<textarea class=\"poliyMark\" v-model=\"remark\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea></el-col>\n\t\t\t\t</el-row>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>政策规则</div>\n\n\t\t\t<div class = \"table_wrap\">\n\t\t\t\t<!--选择商品弹窗-->\n\t\t\t\t<select-goods title=\"选择商品\" @getGoodsList=\"getGoodsList\" ref=\"dialogSeleGoods\" :goodsList=\"goodsList\" :policyType=\"policyType\" :isradio=\"isradio\" @selectAwardGoods=\"selectAwardGoods\" @closeGoodsDiolog=\"closeGoodsDiolog\" @uploadData=\"uploadData\">\n\t\t\t\t</select-goods>\n\t\t\t\t<div v-if=\"awardGoods=='hide'\" class = \"viewRemark\" @click=\"selectAwardGoods\">请选择需回款商品</div>\n\t\t\t\t<div v-if = \"awardGoods=='show'\">\n\t\t\t\t\t<!--奖励商品-->\n\t\t\t\t\t<el-table v-if=\"policyType==2\" :data=\"tableData1\" border tooltip-effect=\"dark\">\n\t\t\t\t\t    <el-table-column :render-header=\"renderHeader\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<div>{{scope.row.goodsName}}<span class=\"viewRemark\" @click = \"deleScopeRow(scope.row.goodsId)\">删除</span></div>\n\t\t\t\t\t\t\t\t<div>{{scope.row.specsMax}}</div>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"awardNum\" label=\"奖励数量\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" type=\"number\" oninput=\"if(value.length>8)value=value.slice(0,8)\" v-model=\"scope.row.awardNum\" v-vue-onkeypress>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"afterDiscountPrice\" label=\"折后价\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" v-model=\"scope.row.afterDiscountPrice\" type=\"number\" oninput=\"if(value.length>8)value=value.slice(0,8)\" @keydown=\"handleInput2\">\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t  \t<el-table-column prop=\"batchNumber\" label=\"指定批号\">\n\t\t\t\t\t  \t\t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" v-model=\"scope.row.batchNumber\" v-vue-onkeypress>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t  \t</el-table-column>\n\t\t\t\t  \t</el-table>\n          <template v-if=\"policyType==3||policyType==4\">\n            <!--回款商品-->\n            <mainTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"mainList\"></mainTable>\n            <!--奖励商品-->\n            <subTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"subList\"></subTable>\n          </template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>适用范围</div>\n\t\t\t<div class = \"detail_table\">\n\t\t\t\t<span class=\"viewRemark\" @click=\"setRange()\">设置</span>\n\t\t\t\t<releaseRange ref=\"dialogSeleProMa\" :isView=\"false\" :dialogRangeVisible=\"dialogRangeVisible\" :relRangeList =\"rangeList\" title =\"发布范围\" @setProvMange = \"setProvMange\"></releaseRange>\n\t\t\t</div>\n\t\t</div>\n\t\t</el-form>\n\t\t<div class=\"operateWraper\">\n\t\t\t<div class=\"div-inline el-button-red\" @click = \"saveAddPolGoods\">保存</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport {getStore,setDepartment} from 'src/config/cache'\n\timport goBack from 'src/components/goBack';\n\timport departComponet from 'src/headComponent/departComponent';\n\timport datepicker from 'components/data-plugin';\n\timport elPagination from 'components/el-page';\n\timport selectGoods from 'src/headComponent/selectGoods';\n\timport releaseRange from './releaseRange';\n  import mainTable from 'src/pages/headquarter/marketManage/main_table';\n  import subTable from 'src/pages/headquarter/marketManage/sub_table';\n  import {promoPolyDetail, getGoods, getRangeProvince,updatePolicy,savePolGoods} from 'src/api/province_url/promotionPolicy';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n          id: '',//政策id\n\t\t\t\t\tpolicyTypes: '',//政策类型\n          policyTypeCheck: '',//政策子类型\n\t\t\t\t\tpolicyType: '',//反显政策类型\n\t\t\t\t\tpolicyStartDate:'',//政策有效期\n\t\t\t\t\tpolicyEndDate:'',//政策有效期\n\t\t\t\t\ttitle:'',//政策名称\n\t\t\t\t\tverificationStartDate: '',//核销起始时间\n\t\t\t\t\tverificationEndDate: '',//核销结束时间\n\t\t\t\t\tdepartmentMenu:[],\n\t\t\t\t\tremark: '',//政策说明\n\t\t\t\t\ttableData1:[],//奖励商品policyType==2\n          tableData2:[],//单品回款奖励policyType==3\n          tableData3:[],//多主品回款奖励policyType==4\n\t\t\t\t\trangeList:[],\n\t\t\t\t\tuserId:[],//用户id\n          goodsList:'',//\n          isradio:false,\n          dialogSeleGoodsVisible:false,//选择需回款商品\n          tableData: [{goodsNamem:\"\",specsMaxm:\"\"}],\n          selectType: '',//选择类型，主品“mulAwardGoods”，奖励为“”\n          mainList:[],//主品\n          subList: [],//奖励商品\n          goodsIdm:[],//主品id\n          goodsId:[],//奖励商品id\n          pageIndex: 1,//当前页\n          pageSize:10,\n          dialogRangeVisible:false,//适用范围弹窗\n          awardGoods: \"show\",//选择需回款商品\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t  if (this.$route.query.type!=0){\n        this.initData()\n      }\n\t\t},\n\t\tcomponents:{\n\t\t\tgoBack,\n\t        departComponet,\n\t        datepicker,\n\t        elPagination,\n\t        selectGoods,\n          mainTable,\n          subTable,\n\t        releaseRange\n\t    },\n\t\tmethods: {\n\t\t\tinitData(){\n        this.departmentMenu = JSON.parse(getStore('departmentMenu'));\n        promoPolyDetail({'policyId': this.$route.query.id, 'policyType': this.$route.query.policyType}).then(res => {\n\t\t\t\t\tlet datas = res.data.data;\n          this.id = datas.id;//政策id\n\t\t\t\t\tthis.policyTypes = datas.policyTypeStr;//政策类型\n\t\t\t\t\tthis.policyType = datas.policyType;\n\t\t\t\t\tthis.policyTypeCheck = datas.policyTypeCheck+'';\n\t\t\t\t\tthis.policyStartDate = datas.policyStartDate;//政策有效期\n\t\t\t\t\tthis.policyEndDate = datas.policyEndDate;//政策有效期\n\t\t\t\t\tthis.title = datas.title;//政策名称\n\t\t\t\t\tthis.verificationStartDate = datas.verificationStartDate;//核销起始时间\n\t\t\t\t\tthis.verificationEndDate = datas.verificationEndDate;//核销结束时间\n\t\t\t\t\tthis.remark = datas.remark;//政策说明\n          datas.rangeList.forEach(p=>{\n            if(p.isChoose == 1){\n              this.userId.push(p.userId);\n            }\n          })\n\t\t\t\t\tthis.mainList = datas.mainList;//主品\n\t\t\t\t\tthis.subList = datas.subList;//奖励商品\n          this.mainList&&this.mainList.forEach(p=>{\n            this.goodsIdm.push(p.goodsId)\n          })\n          this.subList&&this.subList.forEach(p=>{\n            this.goodsId.push(p.goodsId)\n          })\n\t\t\t\t\tthis.rangeList = datas.rangeList;\n\t\t\t\t\tif(datas.policyType==2){\n\t\t\t\t\t\tthis.tableData1 = datas.subList;\n\t\t\t\t\t}\n\t\t\t\t\tif(datas.policyType==3){\n\t\t\t\t\t\tdatas.subList.forEach((item,index,arr) => {\n\t\t\t\t\t\t\tconsole.log(item);console.log(datas.mainList[0]);\n\t\t\t\t\t\t\tlet c={...item, ...datas.mainList[0]};\n\t\t\t\t\t\t\tthis.tableData2.push(c);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif(datas.policyType==4){\n\t\t\t\t\t\tdatas.subList.forEach((item,index,arr) => {\n\t\t\t\t\t\t\tlet c={};\n\t\t\t\t\t\t\tthis.mainList = datas.mainList;\n\t\t\t\t\t\t\tconsole.log(this.mainList);\n\t\t\t\t\t\t\tthis.subList = datas.subList;\n\t\t\t\t\t\t\tif(datas.mainList.length-1<index){\n\t\t\t\t\t\t\t\tc={...item, ...datas.mainList[datas.mainList.length-1]};\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tc={...item, ...datas.mainList[index]};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.tableData3.push(c);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t        })\n\t\t\t},\n\t\t\t//日期组件\n\t\t\tchangeSelect(val,type){console.log(val,type);\n\t\t\t\tif(type == \"policyValidDate\"){\n\t\t\t\t\tval.type == \"startDate\"?this.policyStartDate = val.data : this.policyEndDate = val.data;\n\t\t\t\t}else{\n\t\t\t\t\tval.type == \"startDate\"?this.verificationStartDate = val.data : this.verificationEndDate = val.data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//选择需回款商品\n      selectAwardGoods(params){\n        if(params.handleType != undefined){\n          this.handleType = params.handleType;\n        }\n        if(params.pageIndex == 1){\n          this.pageIndex = params.pageIndex;\n        }\n        params.handleType=='1' ? this.selectType= 'mulAwardGoods' : this.selectType= '';\n        let datalist = {\n          goodsName:params.name == undefined?\"\":params.name,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        };\n        //奖励政策直接选择商品，单品和多品先选择主品再选择奖励商品\n        if( this.policyType!=''){\n          if((this.policyType !=2 && this.awardGoods=='show') || this.policyType ==2 || this.policyType !=2 && this.mainList.length>0){\n            getGoods(datalist).then( res =>{\n              this.goodsList = res.data.data;\n              this.$refs.dialogSeleGoods.dialogShow();\n            });\n          }else if(this.policyType !=2 && this.mainList.length == 0 && this.awardGoods=='hide'){\n            this.isHuiKuan=true;\n            this.awardGoods='show'\n          }\n        }else{\n          this.$message.success('请先选择政策类型');\n        }\n      },\n      handleInput2(e) {\n            // 通过正则过滤小数点后两位\n            \te.target.value = (e.target.value.match(/^\\d*(\\.?\\d{0,1})/g)[0]) || null\n\n        \t},\n\t\t\t//选择商品确定按钮\n      uploadData(val){\n        if(this.policyType==2){//奖励商品\n          val.forEach((item, index, arr) => {\n            if(!this.goodsId.includes(item.id)){\n              let\tarraylist={\n                goodsId: item.id,//商品id--奖励商品的id\n                awardNum:'',//奖励数量\n                afterDiscountPrice: '',//折后价\n                batchNumber: '',//指定批号\n                goodsName: item.goodsName,//商品名称\n                specsMax: item.specsMax,//商品规格\n              }\n              this.tableData1.push(arraylist);\n              this.goodsId.push(item.id)//奖励商品id\n              this.clearProvMange();//清空使用范围\n            }\n          })\n          this.awardGoods='show';\n\n        }else if(this.policyType!=2){//单品和多品回款奖励\n          if(this.handleType == 1){//如果还没选择主品\n            val.forEach((item, index, arr) => {\n              if(!this.goodsIdm.includes(item.id)){\n                let arraylist='';\n                arraylist = {\n                  goodsIdm:  item.id,//商品id---主品的商品id--加了m区分\n                  goodsNamem: item.goodsName,//商品名称--主品的商品名字-加m区别奖励\n                  specsMaxm: item.specsMax,//商品规格-区分\n                  collectionNum: '',//回款商品数量\n                };\n                this.mainList.push(arraylist);\n                this.goodsIdm.push(item.id)//主品id\n                this.clearProvMange();//清空使用范围\n              }\n            })\n          }else if(this.handleType == 2){//已经选择主品\n            val.forEach((item, index, arr) => {\n              if(!this.goodsId.includes(item.id)){\n                let arraylist='';\n                arraylist ={\n                  goodsId: item.id,//商品id--奖励商品的id\n                  awardNum:'',//奖励数量\n                  afterDiscountPrice: '',//折后价\n                  batchNumber: '',//指定批号\n                  goodsName: item.goodsName,//商品名称\n                  specsMax: item.specsMax,//商品规格\n                }\n                this.subList.push(arraylist);\n                this.goodsId.push(item.id)//奖励商品id\n                this.clearProvMange();//清空使用范围\n              }\n            })\n          }\n          this.tableData2=[];\n          this.tableData3= [];\n          this.subList.forEach((item,index,arr) => {\n            let tablist={};\n            if(this.mainList.length-1<index){\n              tablist={...item, ...this.mainList[this.mainList.length-1]};\n            }else{\n              tablist={...item, ...this.mainList[index]};\n            }\n            this.policyType==3 ? this.tableData2.push(tablist) :this.tableData3.push(tablist);\n          })\n          this.tableData = this.mainList;\n          this.awardGoods='show';\n\n        }\n      },\n\t\t\t//自定义表头\n\t\t\trenderHeader(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '奖励商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods({})}\n\t\t         \t\t}\n\t\t         \t},'添加奖励商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n      renderHeader1(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '需回款商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods({})}\n\t\t         \t\t}\n\t\t         \t},'添加需回款商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n\n      //删除回款奖励商品\n      delItem(params){\n        if(params.handleType == 1){//删除需回款商品\n          this.mainList = this.mainList.filter(p=>p.goodsIdm!=params.goodId)\n          this.goodsIdm = this.goodsIdm.filter(p=>p!=params.goodId)\n        }\n        if(params.handleType == 2){//删除奖励商品\n          this.subList = this.subList.filter(p=>p.goodsId!=params.goodId)\n          this.goodsId = this.goodsId.filter(p=>p!=params.goodId)\n        }\n        this.clearProvMange();//清空使用范围\n      },\n      //删除政策回款商品\n      deleScopeRow(goodsId){\n        this.tableData1 = this.tableData1.filter(p=>p.goodsId!=goodsId);\n        this.goodsId = this.goodsId.filter(p=>p!=goodsId);\n        this.clearProvMange();//清空使用范围\n      },\n\t\t   \t//选择政策--重新赋值\n\t\t\tpolicyChange(val){\n        this.policyType= val;\n        this.awardGoods='hide';//商品列表隐藏\n        this.isHuiKuan=false;//商品列表隐藏\n        this.mainList = [];\n        this.subList = [];\n        this.tableData1 = [];\n        this.goodsIdm = [];//主品id\n        this.goodsId = [];//奖励商品id\n        this.tableData1 = [];\n        this.tableData=[{goodsNamem:\"\",specsMaxm:\"\"}];\n        this.clearProvMange();//清空使用范围\n\t\t\t},\n\t\t\t//适用范围\n\t\t\tsetRange(){\n\t\t\t\tif( this.policyTypes == this.policyType){\n\t\t\t\t\tthis.$refs.dialogSeleProMa.dialogShow();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet datalist = {\n\t\t\t\t\tgoodsId: this.goodsId.toString(),\n\t\t\t\t\tgoodsIdm: this.goodsIdm.toString(),\n\t\t\t\t\tpolicyType: this.policyType\n\t\t\t\t};\n\n\t\t\t\tgetRangeProvince(datalist).then( res => {\n\t\t\t\t\tthis.rangeList = res.data.data;\n\t\t\t\t});\n\t\t\t\tthis.$refs.dialogSeleProMa.dialogShow();\n\n\t\t\t},\n\t\t\t//关闭商品弹窗\n\t\t\tcloseGoodsDiolog(){\n\t\t\t\tthis.dialogSeleGoodsVisible =false;\n\t\t\t},\n\t\t\t//关闭适用范围弹窗\n\t\t\tcloseDiolog(){\n\t\t\t\tthis.dialogRangeVisible =false;\n\t\t\t},\n\n\t\t\t//点击分页\n\t\t\tupdataPage(val){\n        this.pageIndex=val.pageIndex;\n        this.pageSize=val.pageSize;\n\t\t\t\tlet datalist=this.getsearchInfo(this.pageIndex,this.pageSize);\n\t\t\t\tthis.initData(datalist)\n\t\t\t},\n\t    \t//设置适用范围\n      setProvMange(val){\n        this.userId = [];\n        val.forEach(p => {\n          this.userId.push(p.userId);\n        })\n      },\n      clearProvMange(){\n        this.userId = [];//清空使用范围\n        this.$refs.dialogSeleProMa.isHuixian = false;\n      },\n      //获取商品列表\n      getGoodsList(val){\n        this.pageIndex = val.pageIndex;\n        this.pageSize = val.pageSize;\n        let datalist = {\n          departmentIds: this.departmentId,\n          goodsName:this.$refs.dialogSeleGoods.formInline.goodsName,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        };\n        getGoods(datalist).then( res =>{\n          this.goodsList = res.data.data;\n        });\n      },\n      //保存按钮\n      saveAddPolGoods(){\n        if(this.policyType==''){\n          this.$message.success(\"请选择政策类型\")\n          return false;\n        }else if(this.title.trim()==''){\n          this.$message.success(\"请输入政策名称\")\n          return false;\n        }else if(this.policyType==2&&this.policyTypeCheck==''){\n          this.$message.success(\"请选择政策子类型\")\n          return false;\n        }else if(this.policyStartDate==''||this.policyEndDate == ''){\n          this.$message.success(\"请选择政策有效期\")\n          return false;\n        }else if(this.departmentId==''){\n          this.$message.success(\"请选择事业部\")\n          return false;\n        }\n        let policyRule=[];\n        let isSubmit = false;\n        if(this.policyType==2){//奖励政策\n          if(this.tableData1.length>0){\n            let obj = {};\n            let _num = 0;\n            const _arr = this.tableData1.slice();\n            _arr.reverse().forEach(p=>{\n              if(p.awardNum.toString().length>0&&p.afterDiscountPrice.toString().length>0){\n                _num+=1;\n                obj = {\n                  \"goodsId\":p.goodsId //商品id\n                  ,\"awardNum\":p.awardNum//奖励数量，必填\n                  ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                  ,\"batchNumber\":p.batchNumber   //指定批号\n                }\n                policyRule.push(obj);\n              }else{\n                if(p.awardNum.length.toString()==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                }else if(p.afterDiscountPrice.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                }\n              }\n            })\n            if(_num == this.tableData1.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }else{\n            this.$message.success(\"请完善政策规则\")\n          }\n        }else{//回款奖励\n          const mainArray = [];\n          const subArray = [];\n          if(this.mainList.length==0){\n            this.$message.success(\"请添加需回款的商品\")\n            isSubmit = false;\n            return false;\n          }else{\n            const mainArr = this.mainList.slice();\n            let obj = {};\n            let _num = 0;\n            mainArr.reverse().forEach(p=>{\n              if(p.collectionNum.toString().length>0){\n                _num += 1;\n                obj = {\n                  \"goodsId\":p.goodsIdm//商品id\n                  ,\"collectionNum\": p.collectionNum//回款数量\n                }\n                mainArray.push(obj)\n              }else{\n                if(p.collectionNum.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsNamem+\"】的回款商品数量\")\n                }\n              }\n            })\n            if(_num == this.mainList.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }\n          if(this.subList.length==0){\n            this.$message.success(\"请添加奖励的商品\")\n            isSubmit = false;\n            return false;\n          }else{\n            const subArr = this.subList.slice();\n            let obj = {};\n            let _num = 0;\n            subArr.reverse().forEach(p=>{\n              if(p.awardNum.toString().length>0&&p.afterDiscountPrice.toString().length>0){\n                _num += 1;\n                obj = {\n                  \"goodsId\":p.goodsId  //商品id\n                  ,\"awardNum\":p.awardNum //奖励数量，必填\n                  ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                  ,\"batchNumber\":p.batchNumber    //指定批号\n                }\n                subArray.push(obj)\n              }else{\n                if(p.awardNum.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                }else if(p.afterDiscountPrice.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                }\n              }\n            })\n            if(_num == this.subList.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }\n          policyRule = {\n            \"mainArray\":mainArray\n            ,\"subArray\":subArray\n          }\n        }\n        if(this.userId.length==''){\n          this.$message.success(\"请设置适用范围\");\n          isSubmit = false;\n          return false;\n        }\n        if(isSubmit){\n          if(this.$route.query.type == 1){//修改\n            let datalist = {\n              id: this.id,//政策类型\n              policyType: this.policyType,//政策类型\n              policyStartDate: this.policyStartDate,//政策有效期\n              policyEndDate: this.policyEndDate,//政策有效期\n              title: this.title,//政策名称\n              verificationStartDate: this.verificationStartDate,//核销起始时间\n              verificationEndDate: this.verificationEndDate,//核销结束时间\n              departmentId: this.departmentId,//事业部\n              remark: this.remark,//政策说明\n              policyRule: JSON.stringify(policyRule),\n              policyRange: this.userId.toString(),\n              policyTypeCheck:this.policyTypeCheck=='null'?'':this.policyTypeCheck,//政策子类型\n            }\n            updatePolicy(datalist).then( res =>{\n              if(res.data.code == 1){\n                this.$router.go(-1);\n              }else{\n                this.$message.success(res.data.msg);\n              }\n            })\n          }else{//复制\n            let datalist = {\n              policyType: this.policyType,//政策类型\n              policyStartDate: this.policyStartDate,//政策有效期\n              policyEndDate: this.policyEndDate,//政策有效期\n              title: this.title,//政策名称\n              verificationStartDate: this.verificationStartDate,//核销起始时间\n              verificationEndDate: this.verificationEndDate,//核销结束时间\n              departmentId: this.departmentId,//事业部\n              remark: this.remark,//政策说明\n              policyRule: JSON.stringify(policyRule),\n              policyRange: this.userId.toString(),\n              policyTypeCheck:this.policyTypeCheck=='null'?'':this.policyTypeCheck,//政策子类型\n            }\n            savePolGoods(datalist).then( res =>{\n              if(res.data.code == 1){\n                this.$router.go(-1);\n              }else{\n                this.$message.success(res.data.msg);\n              }\n            })\n          }\n\n        }\n      },\n\t    }\n  \t}\n</script>\n\n<style lang=\"scss\" scoped=\"scoped\">\n\n\t.containInfo_wraper {\n\t\tmargin: 20px 30px;\n\t\tbackground: #ffff;\n\t\tborder: 1px solid #e6e6e6;\n\t\toverflow: hidden;\n\t\t.detail_title {\n\t\t\tpadding: 0 20px;\n\t\t\tline-height: 50px;\n\t\t\tcolor: #1f5dbc;\n\t\t\tfont-size: 14px;\n\t\t\t.line_Icon {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 4px;\n\t\t\t\theight: 14px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-right: 5px;\n\t\t\t\tborder-radius: 20%;\n\t\t\t\tbackground: #1f5dbc;\n\t\t\t}\n\t\t\tborder-bottom:1px solid #e6e6e6;\n\t\t}\n\t\t.detail_content {\n\t\t\tpadding: 20px 29px 20px;\n\t\t\tline-height: 49px;\n\t\t\tfont-size: 14px;\n\t\t\t.poliyMark{\n\t\t\t\tborder:1px solid #e6e6e6;\n\t\t\t\tborder-radius:5px;\n\t\t\t\twidth:85%;\n\t\t\t\theight:70px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-left:20px;\n\t\t\t\tpadding:10px;\n\t\t\t\tline-height:26px;\n\t\t\t}\n\n\t\t}\n\t\t.table_wrap{\n\t\t\tmargin-top: 0;\n\t\t\tborder: none;\n\t\t\tpadding:20px 39px;\n\t\t\t.tableInput{\n\t\t\t    border-radius: 4px;\n\t\t\t    border: 1px solid #dcdfe6;\n\t\t\t    box-sizing: border-box;\n\t\t\t    height: 40px;\n\t\t\t    line-height: 40px;\n\t\t\t    padding: 0 15px;\n\t\t\t    width: 60%;\n\n\t\t\t}\n\t\t}\n\t\t.detail_table{\n\t\t\tpadding:20px 39px;\n\t\t}\n\t\t.viewRemark{\n\t\t\tmargin-left:10px;\n\t\t\tcolor : #1f5dbc;\n\t\t\tfont-size:14px;\n\t\t}\n\t}\n\t.operateWraper {\n\t\tmargin: 20px;\n\t\ttext-align: center;\n\t\t.el-button-red {\n\t\t\tpadding: 0 0.5rem;\n\t\t}\n\n\t}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/province/marketManage/edit_promoPolicy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create_wraper\"},[(this.$route.query.type == 1)?_c('go-back',{attrs:{\"title\":\"编辑促销政策\"}}):_c('go-back',{attrs:{\"title\":\"复制促销政策\"}}),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"label-width\":\"100px\"}},[_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"基本信息：\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_content\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\"is-required\",attrs:{\"label\":\"政策类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策类型\"},on:{\"change\":_vm.policyChange},model:{value:(_vm.policyTypes),callback:function ($$v) {_vm.policyTypes=$$v},expression:\"policyTypes\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"奖励政策\",\"value\":\"2\"}}),_vm._v(\" \"),(_vm.policyType==3)?_c('el-option',{key:\"2\",attrs:{\"label\":\"回款奖励\",\"value\":\"3\"}}):(_vm.policyType==4)?_c('el-option',{key:\"3\",attrs:{\"label\":\"回款奖励\",\"value\":\"4\"}}):_c('el-option',{key:\"4\",attrs:{\"label\":\"回款奖励\",\"value\":\"3\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\" is-required\",attrs:{\"label\":\"政策名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入政策名称\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策有效期：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\",\"starTim\":_vm.policyStartDate,\"endTim\":_vm.policyEndDate},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'policyValidDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item\"},[_c('div',{staticClass:\"div-inline\"},[_vm._v(\"核销期间：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\",\"starTim\":_vm.verificationStartDate,\"endTim\":_vm.verificationEndDate},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'verifyDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.policyType==2),expression:\"policyType==2\"}],attrs:{\"span\":7}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策子类型：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择政策子类型\"},model:{value:(_vm.policyTypeCheck == null?'':_vm.policyTypeCheck),callback:function ($$v) {_vm.policyTypeCheck == null?'':_vm.policyTypeCheck=$$v},expression:\"policyTypeCheck == null?'':policyTypeCheck\"}},[_c('el-option',{attrs:{\"label\":\"请选择政策子类型\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{key:\"1\",attrs:{\"label\":\"人员变动\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{key:\"2\",attrs:{\"label\":\"库存处理\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{key:\"3\",attrs:{\"label\":\"纯回款奖励\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{key:\"4\",attrs:{\"label\":\"会议奖励\",\"value\":\"4\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_vm._v(\"政策说明:\"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remark),expression:\"remark\"}],staticClass:\"poliyMark\",attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.remark=$event.target.value}}})])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"政策规则\")]),_vm._v(\" \"),_c('div',{staticClass:\"table_wrap\"},[_c('select-goods',{ref:\"dialogSeleGoods\",attrs:{\"title\":\"选择商品\",\"goodsList\":_vm.goodsList,\"policyType\":_vm.policyType,\"isradio\":_vm.isradio},on:{\"getGoodsList\":_vm.getGoodsList,\"selectAwardGoods\":_vm.selectAwardGoods,\"closeGoodsDiolog\":_vm.closeGoodsDiolog,\"uploadData\":_vm.uploadData}}),_vm._v(\" \"),(_vm.awardGoods=='hide')?_c('div',{staticClass:\"viewRemark\",on:{\"click\":_vm.selectAwardGoods}},[_vm._v(\"请选择需回款商品\")]):_vm._e(),_vm._v(\" \"),(_vm.awardGoods=='show')?_c('div',[(_vm.policyType==2)?_c('el-table',{attrs:{\"data\":_vm.tableData1,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"render-header\":_vm.renderHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.goodsName)),_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.deleScopeRow(scope.row.goodsId)}}},[_vm._v(\"删除\")])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.specsMax))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"awardNum\",\"label\":\"奖励数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.awardNum),expression:\"scope.row.awardNum\"},{name:\"vue-onkeypress\",rawName:\"v-vue-onkeypress\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>8)value=value.slice(0,8)\"},domProps:{\"value\":(scope.row.awardNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"awardNum\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"afterDiscountPrice\",\"label\":\"折后价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.afterDiscountPrice),expression:\"scope.row.afterDiscountPrice\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>8)value=value.slice(0,8)\"},domProps:{\"value\":(scope.row.afterDiscountPrice)},on:{\"keydown\":_vm.handleInput2,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"afterDiscountPrice\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"batchNumber\",\"label\":\"指定批号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.batchNumber),expression:\"scope.row.batchNumber\"},{name:\"vue-onkeypress\",rawName:\"v-vue-onkeypress\"}],staticClass:\"tableInput\",domProps:{\"value\":(scope.row.batchNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"batchNumber\", $event.target.value)}}})]}}])})],1):_vm._e(),_vm._v(\" \"),(_vm.policyType==3||_vm.policyType==4)?[_c('mainTable',{attrs:{\"items\":_vm.mainList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}}),_vm._v(\" \"),_c('subTable',{attrs:{\"items\":_vm.subList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}})]:_vm._e()],2):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"适用范围\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_table\"},[_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.setRange()}}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('releaseRange',{ref:\"dialogSeleProMa\",attrs:{\"isView\":false,\"dialogRangeVisible\":_vm.dialogRangeVisible,\"relRangeList\":_vm.rangeList,\"title\":\"发布范围\"},on:{\"setProvMange\":_vm.setProvMange}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"operateWraper\"},[_c('div',{staticClass:\"div-inline el-button-red\",on:{\"click\":_vm.saveAddPolGoods}},[_vm._v(\"保存\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-450b14ba\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/province/marketManage/edit_promoPolicy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-450b14ba\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./edit_promoPolicy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit_promoPolicy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit_promoPolicy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-450b14ba\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./edit_promoPolicy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-450b14ba\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/province/marketManage/edit_promoPolicy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}