webpackJsonp([60],{A7Ul:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("ZLEe"),o=a.n(l),i=a("9V8D"),n=a("zY1m"),s=a("XH94"),r=a("a9+l"),d={data:function(){return{id:"",reason:"",totalRecords:0,totalPageCnt:0,pagin_show:!0,pageIndex:1,pageSize:10,ordersNum:"",oweName:"",position:"",treeName:"",departmentId:"",oweStatus:"",provinceName:"",managerName:"",startCreateDate:"",endCreateDate:"",isRemind:"",tableData:[],ordersStatusList:[],dailogConShow:!1,handleEditShow:!1,ordersFrom:"",dailogTitleType:"提示",dailogCon:"",dialogVisible:!1}},mounted:function(){this.getData(this.pageIndex,this.pageSize)},components:{departComponet:s.a,datepicker:n.a,elPagination:r.a},methods:{getData:function(e,t,a,l,n,s,r,d,c){var p=this;Object(i.j)({pageSize:t,pageIndex:e,oweName:a,treeName:l,position:n,oweStatus:s,startCreateDate:r,endCreateDate:d,isRemind:c}).then(function(e){console.log(e);var t=e.data.data;o()(t.dataList).length>0?(p.totalRecords=t.totalRecords,p.totalPageCnt=t.totalPageCnt,p.pageIndex=t.pageIndex,p.tableData=t.dataList,p.pagin_show=!0):(p.tableData=[],p.pagin_show=!1)})},searchQuery:function(){this.getData(1,this.pageSize,this.departmentId,this.provinceName,this.managerName,this.oweStatus,this.startCreateDate,this.endCreateDate,this.isRemind)},updataPage:function(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.getData(this.pageIndex,this.pageSize)},selectSuccess:function(e){this.departmentId=e,console.log(this.departmentId)},getOrdersStatus:function(){var e=this;Object(i.f)().then(function(t){e.ordersStatusList=t.data.data})},spreadCon:function(){var e=document.querySelector(".slideDown");if(e.classList.contains("spreadSlowlly"))return e.classList.remove("spreadSlowlly"),!1;e.classList.add("spreadSlowlly")},changeSelect:function(e,t){console.log(e,t),"startDate"==e.type?this.startCreateDate=e.data:this.endCreateDate=e.data},backBtn:function(){this.handleEditShow=!1,this.getData(this.pageIndex,this.pageSize,this.nameOrTel,this.selStatus,this.selSole)},checkOutOrderInfo:function(){Object(i.m)({ordersNum:this.ordersNum,submitName:this.submitName,departmentId:this.departmentId,ordersStatus:this.ordersStatus,provinceName:this.provinceName,managerName:this.managerName,startCreateDate:this.startCreateDate,endCreateDate:this.endCreateDate,startModifyDate:this.startModifyDate,endModifyDate:this.endModifyDate}).then(function(e){console.log(e);var t=(new Date).getTime()+".xls",a=new Blob([e.data]),l=document.createElement("a");l.download=t,l.style.display="none",l.href=URL.createObjectURL(a),console.log(l.href),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)})},handleCurrentChange:function(e){this.pageIndex=e,this.getData(this.pageIndex,this.pageSize)},remindProvince:function(){var e=this;Object(i.n)({id:this.id}).then(function(t){console.log(t),e.dialogVisible=!1,e.$message.success("提醒省区成功"),e.getData(e.pageIndex,e.pageSize,e.departmentId,e.provinceName,e.managerName,e.oweStatus,e.startCreateDate,e.endCreateDate,e.isRemind)})},notAllow:function(){var e=this;Object(i.l)({id:this.id,reason:this.reason}).then(function(t){console.log(t),e.dialogVisible=!1,e.getData(e.pageIndex,e.pageSize,e.departmentId,e.provinceName,e.managerName,e.oweStatus,e.startCreateDate,e.endCreateDate,e.isRemind)})},handleCheck:function(e,t){this.$router.push({path:"saleOrderDetailSQ",query:{id:t.oldOrdersId}})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"accountManage"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.handleEditShow,expression:"!handleEditShow"}],attrs:{id:""}},[a("div",{staticClass:"search_wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"提交人："}},[a("el-input",{attrs:{placeholder:"请输入提交人"},model:{value:e.oweName,callback:function(t){e.oweName=t},expression:"oweName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"提交人职级："}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:e.position,callback:function(t){e.position=t},expression:"position"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"县区经理",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"地区经理",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"省区经理",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"省办人员",value:"10"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{attrs:{placeholder:"请选择订单状态"},model:{value:e.oweStatus,callback:function(t){e.oweStatus=t},expression:"oweStatus"}},[a("el-option",{attrs:{label:"请选择状态",value:""}}),e._v(" "),a("el-option",{attrs:{label:"不许提单",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"已提单",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"未提单",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否提醒："}},[a("el-select",{attrs:{placeholder:"全部"},model:{value:e.isRemind,callback:function(t){e.isRemind=t},expression:"isRemind"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"是",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1),e._v(" "),a("div",{staticClass:"div-inline select-more",on:{click:function(t){e.spreadCon()}}},[e._v("\n\t\t\t\t\t\t更多筛选 "),a("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),a("button",{staticClass:"el-button-red",on:{click:function(t){e.searchQuery()}}},[e._v("查询")]),e._v(" "),a("button",{staticClass:"el-button-red",on:{click:function(t){e.checkOutOrderInfo()}}},[e._v("导出")])],1),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline slideDown",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"所属区域："}},[a("el-input",{attrs:{placeholder:"请输入省区名称"},model:{value:e.treeName,callback:function(t){e.treeName=t},expression:"treeName"}})],1),e._v(" "),a("div",{staticClass:"div-inline el-form-item"},[a("div",{staticClass:"div-inline"},[e._v("提交时间：")]),e._v(" "),a("datepicker",{staticClass:"div-inline",attrs:{startIsShow:"true",endIsShow:"true"},on:{changeSelect:function(t){return e.changeSelect(t,"creatData")}}})],1)],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{attrs:{data:e.tableData,border:""}},[a("el-table-column",{attrs:{prop:"createDate",label:"提交订单时间",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweName",label:"提交人",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"position",label:"提交人职级",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"treeName",label:"所属区域",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalBox",label:"数量",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"金额",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsTypeStr",label:"产品类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"oweStatusStr",label:"状态",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"isRemindStr",label:"是否提醒",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.oweStatus&&"否"==t.row.isRemindStr?a("div",{staticClass:"operateBtn",on:{click:function(a){e.dialogVisible=!0,e.id=t.row.id,e.dailogCon="确定提醒省区可以提单?",e.dailogConShow=!0,e.dailogTitleType="提示"}}},[e._v("提醒")]):e._e(),e._v(" "),1==t.row.oweStatus?a("div",{staticClass:"operateBtn",on:{click:function(a){e.dialogVisible=!0,e.id=t.row.id,e.dailogCon="确定提醒地县可以提单?",e.dailogConShow=!1,e.dailogTitleType="提示"}}},[e._v("不许提单")]):e._e(),e._v(" "),2==t.row.oweStatus?a("div",{staticClass:"operateBtn",on:{click:function(a){e.dailogCon=t.row.closeReason,e.dialogVisible=!0,e.dailogConShow=!0,e.dailogTitleType="不许提单原因"}}},[e._v("不许提单原因")]):e._e(),e._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){e.handleCheck(t.$index,t.row)}}},[e._v("查看订单")])]}}])})],1)],1),e._v(" "),a("el-dialog",{staticClass:"elDialogAddress",attrs:{title:e.dailogTitleType,visible:e.dialogVisible,"append-to-body":!0,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dailogConShow?a("div",{staticClass:"dailogCon",staticStyle:{"text-align":"center"}},[a("span",[e._v(e._s(e.dailogCon))])]):e._e(),e._v(" "),e.dailogConShow?e._e():a("div",{staticClass:"dailogCon"},[a("div",[a("span",[e._v(" 不许提单原因：")]),e._v(" "),a("el-input",{attrs:{type:"textarea"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1)]),e._v(" "),a("span",{attrs:{slot:"footer"},slot:"footer"},[e.dailogConShow?e._e():a("span",{staticClass:"dialogBtnTrue",on:{click:function(t){e.notAllow()}}},[e._v("确定")]),e._v(" "),e.dailogConShow&&"不许提单原因"!=e.dailogTitleType?a("span",{staticClass:"dialogBtnTrue",on:{click:function(t){e.remindProvince()}}},[e._v("确定")]):e._e()])])],1),e._v(" "),a("el-pagination",{attrs:{pageIndex:e.pageIndex,pageSize:e.pageSize,totalRecords:e.totalRecords,totalPageCnt:e.totalPageCnt,pagin_show:e.pagin_show},on:{clickpage:e.updataPage}})],1)},staticRenderFns:[]};var p=a("C7Lr")(d,c,!1,function(e){a("ap5i")},"data-v-66c5df84",null);t.default=p.exports},ap5i:function(e,t){}});
//# sourceMappingURL=60.66587e098d10db02e8ae.js.map