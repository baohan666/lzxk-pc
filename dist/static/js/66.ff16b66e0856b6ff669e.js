webpackJsonp([66],{JZgE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("ZLEe"),i=a.n(s),n=a("3cXf"),r=a.n(n),l=a("Agyp"),o=a("ROW2"),d=a("DMbw"),c={data:function(){return{data2:[],checkedKeysArr:[],unCheckedKeysArr:[],unCheckedKeysArrOld:[],defaultProps:{children:"children",label:"label"},activeName:"1",jsonData:{},goodsDetai:{},dialogRangeVisible:!1,departmentMenu:[],departmentMenuSelf:[],radio:1,dialogTitle:"查看限购区域",checked1:null,checked2:null,checked3:null,province:[],cities:[],counties:[]}},mounted:function(){this.initData()},components:{goBack:l.a},methods:{handleClick:function(t,e){console.log("切换tab,event:",t,e)},initData:function(){var t=this,e=this;Object(d.q)({id:this.$route.query.id,type:this.$route.query.type}).then(function(a){console.log(r()(a.data.data)),e.goodsDetai=a.data.data,"null"!=Object(o.b)("departmentMenu")?t.departmentMenu=JSON.parse(Object(o.b)("departmentMenu")):t.departmentMenu=Object(o.c)(),console.log("this.departmentMenu:",t.departmentMenu);for(var s={},n=0;n<t.goodsDetai.departmentIdStr.length;n++)t.goodsDetai.departmentIdStr[n]in t.departmentMenu&&(s[t.goodsDetai.departmentIdStr[n]]=t.departmentMenu[t.goodsDetai.departmentIdStr[n]]);t.departmentMenuSelf=s,t.activeName=i()(s)[0],console.log("现有的this.departmentMenuSelf:",t.departmentMenuSelf);var l=function(e){console.log("key："+e+";对应值："+t.departmentMenuSelf[e]);var a={depId:e,goodsId:t.$route.query.id};Object(d.z)(a).then(function(a){t.jsonData[e]=a.data.data.options;for(var s=t.jsonData[e],i=0;i<s.length;i++)if(2==s[i].isCheck&&t.unCheckedKeysArrOld.push(s[i].id),s[i].children)for(var n=0;n<s[i].children.length;n++)if(2==s[i].children[n].isCheck&&t.unCheckedKeysArrOld.push(s[i].children[n].id),s[i].children[n].children)for(var r=0;r<s[i].children[n].children.length;r++)2==s[i].children[n].children[r].isCheck&&t.unCheckedKeysArrOld.push(s[i].children[n].children[r].id)})};for(var c in t.departmentMenuSelf)l(c);console.log("this.jsonData:",t.jsonData)})},visualRange:function(){i()(this.jsonData).length==i()(this.departmentMenuSelf).length?(this.getAreaData(),this.dialogRangeVisible=!0):this.$message.error("数据加载中,请稍后点击查看")},getAreaData:function(){console.log("获取本地缓存省地县数据集合this.jsonData:",this.jsonData),console.log("获取this.goodsDetai.departmentIdStr:",this.goodsDetai.departmentIdStr);for(var t=0;t<this.goodsDetai.departmentIdStr.length;t++)if(this.goodsDetai.departmentIdStr[t]in this.jsonData){var e=this.jsonData[this.goodsDetai.departmentIdStr[t]];console.log("jsonDataSelf:",e);for(var a=0;a<e.length;a++)if(e[a].disabled=!0,e[a].children)for(var s=0;s<e[a].children.length;s++)if(e[a].children[s].disabled=!0,e[a].children[s].children){console.log(413);for(var i=0;i<e[a].children[s].children.length;i++)e[a].children[s].children[i].disabled=!0,1==e[a].children[s].children[i].isCheck&&this.checkedKeysArr.push(e[a].children[s].children[i].id)}else console.log(421),1==e[a].children[s].isCheck&&this.checkedKeysArr.push(e[a].children[s].id);else 1==e[a].isCheck&&this.checkedKeysArr.push(e[a].id)}},changeHandler:function(t){console.log(t)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("go-back",{attrs:{title:"查看商品详情"}}),t._v(" "),a("div",{staticClass:"containInfo_wraper"},[t._m(0),t._v(" "),a("div",{staticClass:"detail_content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("物料名称")]),t._v("："+t._s(t.goodsDetai.goodsName))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("物料编码")]),t._v("："+t._s(t.goodsDetai.materialCode))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("生产企业")]),t._v("："+t._s(t.goodsDetai.manufacturer))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("剂型")]),t._v("："+t._s(t.goodsDetai.drugType))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("规格")]),t._v("："+t._s(t.goodsDetai.specsMax))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("包装规格")]),t._v("："+t._s(t.goodsDetai.specsMin))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("物料类别")]),t._v("："+t._s(t.goodsDetai.category))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("批准文号")]),t._v("："+t._s(t.goodsDetai.licenseNumber))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("单位")]),t._v("："+t._s(t.goodsDetai.unit))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("版本号")]),t._v("："+t._s(t.goodsDetai.version))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",[a("div",{staticClass:"grid-content bg-purple imgWrap"},[a("span",[t._v("商品图片")]),t._v("：\n            "),a("viewer",{attrs:{images:t.goodsDetai.imgList}},t._l(t.goodsDetai.imgList,function(t){return a("img",{key:t,attrs:{src:t,width:"200"}})}))],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"containInfo_wraper"},[t._m(1),t._v(" "),a("div",{staticClass:"detail_content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("可销售事业部："+t._s(t.goodsDetai.departmentIds))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("省区经理开票价："+t._s(t.goodsDetai.provincePrice))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("地区经理开票价："+t._s(t.goodsDetai.cityPrice))])]),t._v(" "),a("el-col",{attrs:{span:7}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("县区经理开票价："+t._s(t.goodsDetai.countyPrice))])])],1)],1)]),t._v(" "),a("div",{staticClass:"containInfo_wraper"},[t._m(2),t._v(" "),a("div",{staticClass:"detail_content"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content bg-purple"},[a("span",[t._v("物料备注")]),t._v("："+t._s(t.goodsDetai.remark))])])],1),t._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("可见范围：\n            "),a("font",{staticClass:"viewRemark",on:{click:t.visualRange}},[t._v("查看")])],1)])],1)],1)]),t._v(" "),a("el-dialog",{staticClass:"el-dialog-visib-range",attrs:{title:t.dialogTitle,visible:t.dialogRangeVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogRangeVisible=e}}},[a("div",{staticClass:"el-dialog-depart-radio"},[a("span",[t._v("销售组织：")])]),t._v(" "),a("div",{staticClass:"areaWraper"},[a("div",{staticStyle:{height:"300px","overflow-y":"auto"}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.departmentMenuSelf,function(e,s,i){return a("el-tab-pane",{attrs:{label:e,name:s}},[a("el-tree",{ref:"tree",refInFor:!0,attrs:{data:t.jsonData[s],"show-checkbox":"","node-key":"id",accordion:!0,"default-checked-keys":t.checkedKeysArr,props:t.defaultProps}})],1)}))],1)])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail_title"},[e("i",{staticClass:"line_Icon"}),this._v("基本信息：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail_title"},[e("i",{staticClass:"line_Icon"}),this._v("销售信息：")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"detail_title"},[e("i",{staticClass:"line_Icon"}),this._v("其他信息：")])}]};var g=a("C7Lr")(c,p,!1,function(t){a("tAFH")},"data-v-55d7a9d1",null);e.default=g.exports},tAFH:function(t,e){}});
//# sourceMappingURL=66.ff16b66e0856b6ff669e.js.map