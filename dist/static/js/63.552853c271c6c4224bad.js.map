{"version":3,"sources":["webpack:///src/pages/province/marketManage/promotionPolicy.vue","webpack:///./src/pages/province/marketManage/promotionPolicy.vue?435e","webpack:///./src/pages/province/marketManage/promotionPolicy.vue"],"names":["marketManage_promotionPolicy","data","policyType","policyTypeMenu","2","3","policyStartDate","policyEndDate","status","statusMenu","1","title","startDate","endStart","name","createUser","departmentId","tableData","totalRecords","totalPageCnt","pageIndex","pageSize","pagin_show","policyStatus","created","datalist","this","getsearchInfo","initData","components","datepicker","data_plugin","departComponet","departComponent","elPagination","el_page","methods","_this","Object","promotionPolicy","then","res","datas","console","log","keys_default","dataList","length","banStatus","$id","_this2","policyId","spreadCon","myDiv","document","querySelector","classList","contains","remove","add","changeSelect","val","type","endDate","toCreatBusiCpy","$type","$policyType","$router","push","path","query","id","toCreatBusiCpy1","updataPage","toInquire","view","province_marketManage_promotionPolicy","render","_vm","_h","$createElement","_c","_self","staticClass","on","click","$event","_v","attrs","inline","label","placeholder","model","value","callback","$$v","expression","_l","item","key","index","startIsShow","endIsShow","_e","ref","border","tooltip-effect","prop","scopedSlots","_u","fn","scope","_s","row","show-overflow-tooltip","width","flag","clickpage","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/63.552853c271c6c4224bad.js","sourcesContent":["<!--作者：朱\n省区营销管理\n对接接口：刘力才-->\n<template>\n  <div>\n    <div class=\"search_wrap\">\n      <div>\n        <div class=\"div-inline el-button-red\" @click = \"toCreatBusiCpy1(0,0)\">添加</div>\n      </div>\n      <el-form  :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item label=\"政策类型：\">\n          <el-select v-model=\"policyType\" placeholder=\"请选择政策类型\">\n            <el-option label=\"请选择政策类型\" value='0'></el-option>\n            <el-option v-for=\"(item,key,index) in policyTypeMenu\" :label=\"item\" :value=\"key\" :key=\"index\"></el-option>\n          </el-select>\n        </el-form-item>\n        <div class=\"div-inline el-form-item\">\n          <div class=\"div-inline\">政策有效期：</div>\n          <datepicker startIsShow = \"true\" endIsShow= \"true\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'poliyData')\"></datepicker>\n        </div>\n        <el-form-item label=\"政策状态：\">\n          <el-select v-model=\"status\" placeholder=\"请选择政策状态\">\n            <el-option label=\"请选择政策状态\" value='0'></el-option>\n            <el-option v-for=\"(item,key,index) in statusMenu\" :label=\"item\" :value=\"key\" :key=\"index\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"适用范围：\">\n          <el-input v-model=\"name\" placeholder=\"请输入适用范围\"></el-input>\n        </el-form-item>\n        <div v-if=\"false\" class=\"div-inline select-more\" @click = \"spreadCon()\">\n          更多筛选 <i class=\"el-icon-arrow-down\"></i>\n        </div>\n        <div class=\"div-inline el-button-red\" @click = \"toInquire()\">查询</div>\n        <!--<div class=\"div-inline el-button-red\" @click = 'exportBtn'>导出</div>-->\n      </el-form>\n      <el-form ref=\"form\" :inline=\"true\" class=\"demo-form-inline slideDown\">\n        <el-form-item label=\"启用状态：\">\n          <el-select v-model=\"policyStatus\" placeholder=\"请选择政策类型\">\n            <el-option label=\"请选择启用状态\" value='0'></el-option>\n            <el-option label=\"启用\" value=\"1\"></el-option>\n            <el-option label=\"禁用\" value=\"2\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"政策名称：\">\n          <el-input v-model=\"title\" placeholder=\"请输入政策名称\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"适用范围：\">\n          <el-input v-model=\"name\" placeholder=\"请输入适用范围\"></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"创建人：\">\n          <el-input v-model=\"createUser\" placeholder=\"请输入创建人\"></el-input>\n        </el-form-item>\n        <div class=\"div-inline el-form-item\">\n          <div class=\"div-inline\">创建时间：</div>\n          <datepicker startIsShow = \"true\" endIsShow= \"true\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'creatData')\"></datepicker>\n        </div>\n      </el-form>\n    </div>\n    <div class=\"table_wrap\">\n      <el-table :data=\"tableData\" border tooltip-effect=\"dark\" >\n        <el-table-column prop=\"policyType\" label=\"政策类型\">\n\n          <template slot-scope=\"scope\">\n            {{ scope.row.policyType == 2 ? \"奖励政策\" : \"回款奖励\"}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"title\" label=\"政策名称\" :show-overflow-tooltip=\"true\"></el-table-column>\n        <el-table-column prop=\"policyStartDate\" label=\"开始日期\"></el-table-column>\n        <el-table-column prop=\"policyEndDate\" label=\"结束日期\"></el-table-column>\n        <el-table-column prop=\"listUser\" label=\"适用范围\" :show-overflow-tooltip=\"true\">\n          <template slot-scope=\"scope\" >\n\t\t\t    \t\t<span v-for=\"(item,index) in scope.row.listUser\" :key=\"index\">\n\t\t\t    \t\t\t{{item.name}}\n\t\t\t    \t\t</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{scope.row.status}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"policyStatusStr\" label=\"启用状态\"></el-table-column>\n        <!--<el-table-column prop=\"departmentId\" label=\"事业部\" width=\"140\">-->\n          <!--<template slot-scope=\"scope\">-->\n            <!--{{ scope.row.departmentId == 1 ? \"心脑事业部\" : scope.row.departmentId == 2 ? \"风湿及骨科事业部\" : scope.row.departmentId == 3 ? \"云事业部\" : \"消化事业部\"}}-->\n          <!--</template>-->\n        <!--</el-table-column>-->\n        <el-table-column prop=\"createUser\" label=\"创建人\"></el-table-column>\n        <el-table-column prop=\"createDate\" label=\"创建时间\"></el-table-column>\n        <el-table-column prop=\"address\" label=\"操作\">\n          <template slot-scope=\"scope\">\n\n            <div v-if=\"scope.row.policyStatus==2\" class=\"operateBtn\" @click=\"banStatus(scope.row.id,1)\">启用</div>\n            <div v-if=\"scope.row.policyStatus==1\" class=\"operateBtn\" @click=\"banStatus(scope.row.id,2)\">禁用</div>\n\n            <div v-if=\"scope.row.flag==1\" class=\"operateBtn\" @click=\"toCreatBusiCpy(scope.row.id,1,scope.row.policyType)\">修改</div>\n            <div class=\"operateBtn\" @click=\"view(scope.row.id,scope.row.policyType)\">查看</div>\n            <div class=\"operateBtn\" @click=\"toCreatBusiCpy(scope.row.id,2,scope.row.policyType)\">复制</div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination :pageIndex='pageIndex' :pageSize='pageSize' :totalRecords='totalRecords' :totalPageCnt='totalPageCnt' :pagin_show='pagin_show' @clickpage=\"updataPage\"></el-pagination>\n    </div>\n  </div>\n\n</template>\n\n<script>\n  import datepicker from 'components/data-plugin'\n  import departComponet from 'src/headComponent/departComponent'\n  import elPagination from 'components/el-page';\n\n  import {getPromPolicyData, saveBanStatus} from 'src/api/province_url/promotionPolicy';\n\n  export default {\n    data() {\n      return {\n        policyType: '',//政策类型\n        policyTypeMenu: {2:'奖励政策', 3:'回款奖励'},//政策类型列表  ---1.奖励政策2.单品回款奖励3.多品回款奖励\n        policyStartDate: '',//政策起始时间\n        policyEndDate: '',//政策结束时间\n        status: \"\",//政策状态\n        statusMenu: {1:'未开启', 2:'进行中', 3:'已失效'},//政策状态列表---状态1未启用  2进行中 3已失效\n        title: '',//政策名称\n        startDate: '',//开始时间\n        endStart: '',//结束时间\n        name: '',//使用范围\n        createUser: '',//创建人\n        departmentId: '',//事业部\n\n        tableData: [], // 数据数组\n        totalRecords: 0,//总条数\n        totalPageCnt: 0,//总页数\n        pageIndex: 1,//当前页\n        pageSize:10,\n        pagin_show:true,\n        policyStatus: ''\n\n      }\n    },\n    created(){\n      let datalist=this.getsearchInfo(this.pageIndex);\n      this.initData(datalist);\n    },\n    components:{\n      datepicker,\n      departComponet,\n      elPagination\n    },\n    methods: {\n      //页面初始化\n      initData(datalist){\n        //获取table数据列表和分页信息\n        getPromPolicyData(datalist).then(res => {\n          const datas=res.data.data;\n          console.log(datas);\n          if(Object.keys(datas.dataList).length>0){\n            this.totalRecords=datas.totalRecords;\n            this.totalPageCnt=datas.totalPageCnt;\n            this.pageIndex=datas.pageIndex;\n            this.tableData= datas.dataList;\n            this.pagin_show= true;\n          }else{\n            this.tableData= [];\n            this.pagin_show= false;\n          }\n\n        })\n      },\n      banStatus($id,status){\n        let datalist ={\n          policyId: $id,\n          policyStatus: status\n        };\n        console.log(datalist);\n        saveBanStatus(datalist).then( res => {\n          let datalist=this.getsearchInfo(this.pageIndex);\n          this.initData(datalist);\n        })\n      },\n      //获取参数\n      getsearchInfo(pageIndex){\n        let datalist = {\n          policyType: this.policyType //政策类型\n          ,policyStartDate: this.policyStartDate //政策起始时间\n          ,policyEndDate: this.policyEndDate //政策结束时间\n          ,status: this.status //政策状态\n          ,title: this.title //政策名称\n          ,startDate: this.startDate //开始时间\n          ,endStart: this.endStart //结束时间\n          ,departmentId: this.departmentId //事业部\n          ,createUser: this.createUser //创建人\n          ,name: this.name //使用范围\n          ,policyStatus: this.policyStatus // 政策状态 1正常 2禁用\n          ,pageIndex:pageIndex  //当前页-----Y\n          ,pageSize:this.pageSize //每页大小----Y\n\n        };\n        return datalist;\n      },\n\n      //点击筛选更多==-\n      spreadCon(){\n        let myDiv = document.querySelector(\".slideDown\");\n        if(myDiv.classList.contains('spreadSlowlly')){\n          myDiv.classList.remove(\"spreadSlowlly\");\n          return false;\n        }\n        myDiv.classList.add(\"spreadSlowlly\");\n      },\n      //日期组件\n      changeSelect(val,type){console.log(val,type);\n        if(type == \"poliyData\"){\n          val.type == \"startDate\"?this.policyStartDate = val.data : this.policyEndDate = val.data;\n        }else{\n          val.type == \"startDate\"?this.startDate = val.data : this.endDate = val.data;\n        }\n      },\n      toCreatBusiCpy($id,$type,$policyType){ // 修改和赋值跳转\n        this.$router.push({path:'/edit_promoPolicySQ',query:{id:$id,type:$type,policyType:$policyType}})\n      },\n      toCreatBusiCpy1($id,$type,$policyType){ // 添加跳转\n        this.$router.push({path:'/add_promoPolicySQ',query:{id:$id,type:$type,policyType:$policyType}})\n      },\n\n      //点击分页\n      updataPage(val){\n        this.pageIndex = val.pageIndex;\n        this.pageSize = val.pageSize;\n        let datalist=this.getsearchInfo(this.pageIndex,this.pageSize);\n        this.initData(datalist)\n      },\n\n      //点击查询按钮\n      toInquire(){\n        let datalist=this.getsearchInfo(1);\n        this.initData(datalist);\n      },\n\n      //点击导出按钮\n      // exportBtn(){\n      //   let datalist = {\n      //     policyType: this.policyType //政策类型\n      //     ,policyStartDate: this.policyStartDate //政策起始时间\n      //     ,policyEndDate: this.policyEndDate //政策结束时间\n      //     ,status: this.status //政策状态\n      //     ,title: this.title //政策名称\n      //     ,startDate: this.startDate //开始时间\n      //     ,endStart: this.endStart //结束时间\n      //     ,name: this.name //使用范围\n      //     ,createUser: this.createUser //创建人\n      //     ,departmentId: this.departmentId //事业部\n      //   };\n      //   exportData(datalist).then(res => {\n      //     let fileName = new Date().getTime()+'.xls';\n      //     const blob = new Blob([res.data]);\n      //     const elink = document.createElement('a');\n      //     elink.download = fileName;\n      //     elink.style.display = 'none';\n      //     elink.href = URL.createObjectURL(blob);\n      //     document.body.appendChild(elink);\n      //     elink.click();\n      //     URL.revokeObjectURL(elink.href); // 释放URL 对象\n      //     document.body.removeChild(elink);\n      //   })\n      // },\n\n\n      view($id,$type){\n        this.$router.push({path:'/view_promoPolicySQ',query:{id:$id,type:$type}});\n      },\n\n\n\n\n    }\n  }\n</script>\n<style lang='scss' scoped=\"scoped\">\n  .slideDown{\n    display: none;\n  }\n  .spreadSlowlly{\n    display: block;\n  }\n  .select-more{\n    margin:0 30px;\n  i{\n    color:#9c9c9c;\n  }\n  }\n  .el-button-red{\n    margin-bottom: 20px;\n  }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/province/marketManage/promotionPolicy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search_wrap\"},[_c('div',[_c('div',{staticClass:\"div-inline el-button-red\",on:{\"click\":function($event){_vm.toCreatBusiCpy1(0,0)}}},[_vm._v(\"添加\")])]),_vm._v(\" \"),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"政策类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策类型\"},model:{value:(_vm.policyType),callback:function ($$v) {_vm.policyType=$$v},expression:\"policyType\"}},[_c('el-option',{attrs:{\"label\":\"请选择政策类型\",\"value\":\"0\"}}),_vm._v(\" \"),_vm._l((_vm.policyTypeMenu),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":key}})})],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"div-inline el-form-item\"},[_c('div',{staticClass:\"div-inline\"},[_vm._v(\"政策有效期：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\"},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'poliyData'); }}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"政策状态：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策状态\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},[_c('el-option',{attrs:{\"label\":\"请选择政策状态\",\"value\":\"0\"}}),_vm._v(\" \"),_vm._l((_vm.statusMenu),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":key}})})],2)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"适用范围：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入适用范围\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),(false)?_c('div',{staticClass:\"div-inline select-more\",on:{\"click\":function($event){_vm.spreadCon()}}},[_vm._v(\"\\n          更多筛选 \"),_c('i',{staticClass:\"el-icon-arrow-down\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"div-inline el-button-red\",on:{\"click\":function($event){_vm.toInquire()}}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"demo-form-inline slideDown\",attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"启用状态：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策类型\"},model:{value:(_vm.policyStatus),callback:function ($$v) {_vm.policyStatus=$$v},expression:\"policyStatus\"}},[_c('el-option',{attrs:{\"label\":\"请选择启用状态\",\"value\":\"0\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"启用\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":\"2\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"政策名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入政策名称\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"适用范围：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入适用范围\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"创建人：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入创建人\"},model:{value:(_vm.createUser),callback:function ($$v) {_vm.createUser=$$v},expression:\"createUser\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"div-inline el-form-item\"},[_c('div',{staticClass:\"div-inline\"},[_vm._v(\"创建时间：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\"},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'creatData'); }}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table_wrap\"},[_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"prop\":\"policyType\",\"label\":\"政策类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.policyType == 2 ? \"奖励政策\" : \"回款奖励\")+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"政策名称\",\"show-overflow-tooltip\":true}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"policyStartDate\",\"label\":\"开始日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"policyEndDate\",\"label\":\"结束日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"listUser\",\"label\":\"适用范围\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.listUser),function(item,index){return _c('span',{key:index},[_vm._v(\"\\n\\t\\t\\t    \\t\\t\\t\"+_vm._s(item.name)+\"\\n\\t\\t\\t    \\t\\t\")])})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.status)+\"\\n          \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"policyStatusStr\",\"label\":\"启用状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createUser\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createDate\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.policyStatus==2)?_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.banStatus(scope.row.id,1)}}},[_vm._v(\"启用\")]):_vm._e(),_vm._v(\" \"),(scope.row.policyStatus==1)?_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.banStatus(scope.row.id,2)}}},[_vm._v(\"禁用\")]):_vm._e(),_vm._v(\" \"),(scope.row.flag==1)?_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.toCreatBusiCpy(scope.row.id,1,scope.row.policyType)}}},[_vm._v(\"修改\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.view(scope.row.id,scope.row.policyType)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.toCreatBusiCpy(scope.row.id,2,scope.row.policyType)}}},[_vm._v(\"复制\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"pageIndex\":_vm.pageIndex,\"pageSize\":_vm.pageSize,\"totalRecords\":_vm.totalRecords,\"totalPageCnt\":_vm.totalPageCnt,\"pagin_show\":_vm.pagin_show},on:{\"clickpage\":_vm.updataPage}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-618109ac\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/province/marketManage/promotionPolicy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-618109ac\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./promotionPolicy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./promotionPolicy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./promotionPolicy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-618109ac\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./promotionPolicy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-618109ac\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/province/marketManage/promotionPolicy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}