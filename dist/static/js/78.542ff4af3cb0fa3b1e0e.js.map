{"version":3,"sources":["webpack:///src/pages/headquarter/marketManage/edit_promoPolicy.vue","webpack:///./src/pages/headquarter/marketManage/edit_promoPolicy.vue?e4da","webpack:///./src/pages/headquarter/marketManage/edit_promoPolicy.vue"],"names":["edit_promoPolicy","data","id","policyTypes","policyTypeCheck","policyType","policyStartDate","policyEndDate","title","verificationStartDate","verificationEndDate","departmentId","departmentIds","departmentMenu","remark","tableData1","tableData2","tableData3","rangeList","userId","goodsList","isradio","dialogSeleGoodsVisible","tableData","goodsNamem","specsMaxm","selectType","mainList","subList","goodsIdm","goodsId","pageIndex","pageSize","dialogRangeVisible","awardGoods","created","this","initData","components","goBack","departComponet","departComponent","datepicker","data_plugin","elPagination","el_page","selectGoods","mainTable","main_table","subTable","sub_table","releaseRange","methods","_this","JSON","parse","Object","cache","promotionPolicy","policyId","$route","query","type","then","res","datas","policyTypeStr","departmentIdStr","forEach","p","isChoose","push","item","index","arr","console","log","c","extends_default","length","changeSelect","val","selectAwardGoods","params","_this2","undefined","handleType","datalist","goodsName","name","$refs","dialogSeleGoods","dialogShow","isHuiKuan","$message","success","handleInput2","e","target","value","match","uploadData","_this3","includes","arraylist","awardNum","afterDiscountPrice","batchNumber","specsMax","clearProvMange","collectionNum","tablist","objectSpanMethod","_ref","row","column","rowIndex","columnIndex","rowspan","Array","fill","colspan","mul","parseFloat","arrMain","mergeMain","i","_i","slice","stringify_default","_i2","element","j","_j","renderHeader","h","_this4","class","on","click","renderHeader1","_this5","delItem","filter","goodId","deleScopeRow","policyChange","selectSuccess","setRange","_this6","dialogSeleProMa","toString","closeGoodsDiolog","closeDiolog","updataPage","getsearchInfo","setProvMange","_this7","getGoodsList","_this8","formInline","isHuixian","saveAddPolGoods","_this9","trim","policyRule","isSubmit","obj","_num","reverse","discountPrice","mainArray","subArray","_obj","_num2","_obj2","_num3","policyRange","code","$router","go","msg","_datalist","marketManage_edit_promoPolicy","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","inline","label-width","gutter","span","label","placeholder","change","model","callback","$$v","expression","key","startIsShow","endIsShow","starTim","endTim","_l","directives","rawName","cols","rows","domProps","input","$event","composing","_e","border","tooltip-effect","render-header","scopedSlots","_u","fn","scope","_s","prop","oninput","$set","keydown","items","isView","relRangeList","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/78.542ff4af3cb0fa3b1e0e.js","sourcesContent":["<template>\n\t<div class=\"create_wraper\">\n\t\t<go-back v-if=\"this.$route.query.handleType == 1\" title=\"编辑促销政策\"></go-back>\n\t\t<go-back v-else title=\"复制促销政策\"></go-back>\n\t\t<el-form :inline=\"true\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-form-inline\">\n\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>基本信息：</div>\n\t\t\t<div class=\"detail_content\">\n\t\t\t\t<el-row :gutter=\"20\">\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策类型：\" class=\"is-required\">\n\t\t\t\t\t\t    <el-select v-model=\"policyTypes\" placeholder=\"请选择政策类型\" @change =\"policyChange\">\n\t\t\t      \t\t\t\t<el-option  label=\"奖励政策\" value=\"2\" key=\"1\"></el-option>\n\t\t\t      \t\t\t\t<el-option v-if=\"policyType==3\" label=\"回款奖励\" value=\"3\" key=\"2\"></el-option>\n\t\t\t      \t\t\t\t<el-option v-else-if=\"policyType==4\" label=\"回款奖励\" value=\"4\" key=\"3\"></el-option>\n                    <el-option v-else label=\"回款奖励\" value=\"3\" key=\"2\"></el-option>\n\t\t\t\t\t\t    </el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策名称：\" class=\" is-required\">\n\t\t\t\t\t\t    <el-input v-model=\"title\" placeholder=\"请输入政策名称\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item is-required\">\n\t\t\t\t\t  \t\t<div class=\"div-inline el-form-item__label\">政策有效期：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" :starTim=\"policyStartDate\" :endTim=\"policyEndDate\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'policyValidDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n\t\t\t\t  \t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"事业部：\" class=\"is-required\">\n\t\t\t\t\t\t\t<el-select v-model=\"departmentId\"  placeholder=\"请选择事业部\" @change =\"selectSuccess\">\n\t\t\t\t\t\t\t    <el-option label=\"请选择事业部\" value=''></el-option>\n\t\t\t\t\t\t\t    <el-option v-for=\"(item,key,index) in departmentMenu\" :label=\"item\" :value=\"key\" :key=\"index\"></el-option>\n\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t \t\t</el-col>\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item\">\n\t\t\t\t\t  \t\t<div class=\"div-inline\">核销期间：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" :starTim=\"verificationStartDate\" :endTim=\"verificationEndDate\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'verifyDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n          <el-col :span=\"7\" v-show=\"policyType==2\">\n            <div class=\"div-inline el-form-item is-required\">\n              <div class=\"div-inline el-form-item__label\">政策子类型：</div>\n              <el-select v-model=\"policyTypeCheck == null?'':policyTypeCheck\" placeholder=\"请选择政策子类型\">\n                <el-option label=\"请选择政策子类型\" value=''></el-option>\n                <el-option  label=\"人员变动\" value=\"1\" key=\"1\"></el-option>\n                <el-option  label=\"库存处理\" value=\"2\" key=\"2\"></el-option>\n                <el-option  label=\"纯回款奖励\" value=\"3\" key=\"3\"></el-option>\n                <el-option  label=\"会议奖励\" value=\"4\" key=\"4\"></el-option>\n              </el-select>\n            </div>\n          </el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"20\">政策说明:<textarea class=\"poliyMark\" v-model=\"remark\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea></el-col>\n\t\t\t\t</el-row>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>政策规则</div>\n\n\t\t\t<div class = \"table_wrap\">\n\t\t\t\t<!--选择商品弹窗-->\n\t\t\t\t<select-goods title=\"选择商品\" @getGoodsList=\"getGoodsList\" ref=\"dialogSeleGoods\" :goodsList=\"goodsList\" :policyType=\"policyType\" :isradio=\"isradio\" @selectAwardGoods=\"selectAwardGoods\" @closeGoodsDiolog=\"closeGoodsDiolog\" @uploadData=\"uploadData\">\n\t\t\t\t</select-goods>\n\n\t\t\t\t<div v-if=\"awardGoods=='hide'\" class = \"viewRemark\" @click=\"selectAwardGoods\">请选择需回款商品</div>\n\t\t\t\t<div v-if = \"awardGoods=='show'\">\n\t\t\t\t\t<!--奖励商品-->\n\t\t\t\t\t<el-table v-if=\"policyType==2\" :data=\"tableData1\" border tooltip-effect=\"dark\">\n\t\t\t\t\t    <el-table-column :render-header=\"renderHeader\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<div>{{scope.row.goodsName}}<span class=\"viewRemark\" @click = \"deleScopeRow(scope.row.goodsId)\">删除</span></div>\n\t\t\t\t\t\t\t\t<div>{{scope.row.specsMax}}</div>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"awardNum\" label=\"奖励数量\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" type=\"number\" oninput=\"if(value.length>8)value=value.slice(0,8)\" v-model=\"scope.row.awardNum\" v-vue-onkeypress>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"afterDiscountPrice\" label=\"折后价\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" v-model=\"scope.row.afterDiscountPrice\" type=\"number\" @keydown=\"handleInput2\">\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t  \t<el-table-column prop=\"batchNumber\" label=\"指定批号\">\n\t\t\t\t\t  \t\t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" v-model=\"scope.row.batchNumber\" v-vue-onkeypress>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t  \t</el-table-column>\n\t\t\t\t  \t</el-table>\n          <template v-if=\"policyType==3||policyType==4\">\n            <!--回款商品-->\n            <mainTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"mainList\"></mainTable>\n            <!--奖励商品-->\n            <subTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"subList\"></subTable>\n          </template>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>适用范围</div>\n\t\t\t<div class = \"detail_table\">\n\t\t\t\t<span class=\"viewRemark\" @click=\"setRange()\">设置</span>\n\t\t\t\t<releaseRange ref=\"dialogSeleProMa\" :isView=\"false\"  :dialogRangeVisible=\"dialogRangeVisible\" :relRangeList =\"rangeList\" title =\"发布范围\" @setProvMange = \"setProvMange\"></releaseRange>\n\t\t\t</div>\n\t\t</div>\n\t\t</el-form>\n\t\t<div class=\"operateWraper\">\n\t\t\t<div class=\"div-inline el-button-red\" @click = \"saveAddPolGoods\">保存</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport {getStore,setDepartment} from 'src/config/cache'\n\timport goBack from 'src/components/goBack';\n\timport departComponet from 'src/headComponent/departComponent';\n\timport datepicker from 'components/data-plugin';\n\timport elPagination from 'components/el-page';\n\timport selectGoods from 'src/headComponent/selectGoods';\n\timport releaseRange from 'src/headComponent/releaseRange';\n  import mainTable from 'src/pages/headquarter/marketManage/main_table';\n  import subTable from 'src/pages/headquarter/marketManage/sub_table';\n  import {promoPolyDetail, getGoods, getRangeProvince,savePolGoods,updatePolicy} from 'src/api/headquarter_url/promotionPolicy';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n          id: '',//政策id\n\t\t\t\t\tpolicyTypes: '',//政策类型\n          policyTypeCheck: '',//政策子类型\n\t\t\t\t\tpolicyType: '',//反显政策类型\n\t\t\t\t\tpolicyStartDate:'',//政策有效期\n\t\t\t\t\tpolicyEndDate:'',//政策有效期\n\t\t\t\t\ttitle:'',//政策名称\n\t\t\t\t\tverificationStartDate: '',//核销起始时间\n\t\t\t\t\tverificationEndDate: '',//核销结束时间\n\t\t\t\t\tdepartmentId: '',//事业部\n\t\t\t\t\tdepartmentIds: '',//反显事业部\n\t\t\t\t\tdepartmentMenu:[],\n\t\t\t\t\tremark: '',//政策说明\n\t\t\t\t\ttableData1:[],//奖励商品policyType==2\n          tableData2:[],//单品回款奖励policyType==3\n          tableData3:[],//多主品回款奖励policyType==4\n\t\t\t\t\trangeList:[],\n\t\t\t\t\tuserId:[],//适用范围id\n\t\t\t\t  goodsList:'',//\n\t\t\t\t  isradio:false,\n\t\t\t\t  dialogSeleGoodsVisible:false,//选择需回款商品\n\t\t\t\t  tableData: [{goodsNamem:\"\",specsMaxm:\"\"}],\n\t\t\t\t  selectType: '',//选择类型，主品“mulAwardGoods”，奖励为“”\n\t\t\t\t  mainList:[],//主品\n\t\t\t\t  subList: [],//奖励商品\n\t\t\t\t  goodsIdm:[],//主品id\n\t\t\t\t  goodsId:[],//奖励商品id\n\t\t\t\t  pageIndex: 1,//当前页\n\t\t\t\t  pageSize:10,\n\t\t\t\t  dialogRangeVisible:false,//适用范围弹窗\n\t\t\t\t  awardGoods: \"show\",//选择需回款商品\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.initData()\n\t\t},\n\t\tcomponents:{\n\t\t\tgoBack,\n      departComponet,\n      datepicker,\n      elPagination,\n      selectGoods,\n      mainTable,\n      subTable,\n      releaseRange\n\t    },\n\t\tmethods: {\n\t\t\tinitData(){\n\t\t\t    this.departmentMenu = JSON.parse(getStore('departmentMenu'));\n\t\t        promoPolyDetail({'policyId': this.$route.query.id, 'policyType': this.$route.query.type}).then(res => {\n\t\t\t\t\tlet datas = res.data.data;\n\t\t\t\t\tthis.id = datas.id;//政策id\n\t\t\t\t\tthis.policyTypes = datas.policyTypeStr;//政策类型\n\t\t\t\t\tthis.policyType = datas.policyType;\n\t\t\t\t\tthis.policyTypeCheck = datas.policyTypeCheck+\"\";\n\t\t\t\t\tthis.policyStartDate = datas.policyStartDate;//政策有效期\n\t\t\t\t\tthis.policyEndDate = datas.policyEndDate;//政策有效期\n\t\t\t\t\tthis.title = datas.title;//政策名称\n\t\t\t\t\tthis.verificationStartDate = datas.verificationStartDate;//核销起始时间\n\t\t\t\t\tthis.verificationEndDate = datas.verificationEndDate;//核销结束时间\n\t\t\t\t\tthis.departmentId = datas.departmentIdStr;//事业部\n\t\t\t\t\tthis.departmentIds = datas.departmentIdStr;\n\t\t\t\t\tthis.remark = datas.remark;//政策说明\n          datas.rangeList.forEach(p=>{\n            if(p.isChoose == 1){\n              this.userId.push(p.userId);\n            }\n          })\n\t\t\t\t\tthis.mainList = datas.mainList;//主品\n\t\t\t\t\tthis.subList = datas.subList;//奖励商品\n          this.mainList&&this.mainList.forEach(p=>{\n              this.goodsIdm.push(p.goodsId)\n          })\n          this.subList&&this.subList.forEach(p=>{\n              this.goodsId.push(p.goodsId)\n          })\n\t\t\t\t\tthis.rangeList = datas.rangeList;\n\t\t\t\t\tif(datas.policyType==2){\n\t\t\t\t\t\tthis.tableData1 = datas.subList;\n\t\t\t\t\t}\n\t\t\t\t\tif(datas.policyType==3){\n\t\t\t\t\t\tdatas.subList.forEach((item,index,arr) => {\n\t\t\t\t\t\t\tconsole.log(item);console.log(datas.mainList[0]);\n\t\t\t\t\t\t\tlet c={...item, ...datas.mainList[0]};\n\t\t\t\t\t\t\tthis.tableData2.push(c);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\tif(datas.policyType==4){\n\t\t\t\t\t\tdatas.subList.forEach((item,index,arr) => {\n\t\t\t\t\t\t\tlet c={};\n\t\t\t\t\t\t\tthis.mainList = datas.mainList;\n\t\t\t\t\t\t\tthis.subList = datas.subList;\n\t\t\t\t\t\t\tif(datas.mainList.length-1<index){\n\t\t\t\t\t\t\t\tc={...item, ...datas.mainList[datas.mainList.length-1]};\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tc={...item, ...datas.mainList[index]};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.tableData3.push(c);\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t        })\n\t\t\t},\n\t\t\t//日期组件\n\t\t\tchangeSelect(val,type){console.log(val,type);\n\t\t\t\tif(type == \"policyValidDate\"){\n\t\t\t\t\tval.type == \"startDate\"?this.policyStartDate = val.data : this.policyEndDate = val.data;\n\t\t\t\t}else{\n\t\t\t\t\tval.type == \"startDate\"?this.verificationStartDate = val.data : this.verificationEndDate = val.data;\n\t\t\t\t}\n\t\t\t},\n      //选择需回款商品\n      selectAwardGoods(params){\n        if(params.handleType != undefined){\n          this.handleType = params.handleType;\n        }\n        if(params.pageIndex == 1){\n          this.pageIndex = params.pageIndex;\n        }\n        params.handleType=='1' ? this.selectType= 'mulAwardGoods' : this.selectType= '';\n        let datalist = {\n          departmentIds: this.departmentId,\n          goodsName:params.name == undefined?\"\":params.name,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        };\n        //奖励政策直接选择商品，单品和多品先选择主品再选择奖励商品\n        if(this.departmentId!='' && this.policyType!=''){\n          if((this.policyType !=2 && this.awardGoods=='show') || this.policyType ==2 || this.policyType !=2 && this.mainList.length>0){\n            getGoods(datalist).then( res =>{\n              this.goodsList = res.data.data;\n              this.$refs.dialogSeleGoods.dialogShow();\n            });\n          }else if(this.policyType !=2 && this.mainList.length == 0 && this.awardGoods=='hide'){\n            this.isHuiKuan=true;\n            this.awardGoods='show'\n          }\n        }else{\n          this.$message.success('请先选择政策类型和事业部');\n        }\n      },\n      handleInput2(e) {\n            // 通过正则过滤小数点后两位\n            \te.target.value = (e.target.value.match(/^\\d*(\\.?\\d{0,1})/g)[0]) || null\n\n        \t},\n      //选择商品确定按钮\n      uploadData(val){\n        if(this.policyType==2){//奖励商品\n          val.forEach((item, index, arr) => {\n            if(!this.goodsId.includes(item.id)){\n              let\tarraylist={\n                goodsId: item.id,//商品id--奖励商品的id\n                awardNum:'',//奖励数量\n                afterDiscountPrice: '',//折后价\n                batchNumber: '',//指定批号\n                goodsName: item.goodsName,//商品名称\n                specsMax: item.specsMax,//商品规格\n              }\n              this.tableData1.push(arraylist);\n              this.goodsId.push(item.id)//奖励商品id\n              this.clearProvMange();//清空使用范围\n            }\n          })\n          this.awardGoods='show';\n\n        }else if(this.policyType!=2){//单品和多品回款奖励\n          if(this.handleType == 1){//如果还没选择主品\n            val.forEach((item, index, arr) => {\n              if(!this.goodsIdm.includes(item.id)){\n                let arraylist='';\n                arraylist = {\n                  goodsIdm:  item.id,//商品id---主品的商品id--加了m区分\n                  goodsNamem: item.goodsName,//商品名称--主品的商品名字-加m区别奖励\n                  specsMaxm: item.specsMax,//商品规格-区分\n                  collectionNum: '',//回款商品数量\n                };\n                this.mainList.push(arraylist);\n                this.goodsIdm.push(item.id)//主品id\n                this.clearProvMange();//清空使用范围\n              }\n            })\n          }else if(this.handleType == 2){//已经选择主品\n            val.forEach((item, index, arr) => {\n              if(!this.goodsId.includes(item.id)){\n                let arraylist='';\n                arraylist ={\n                  goodsId: item.id,//商品id--奖励商品的id\n                  awardNum:'',//奖励数量\n                  afterDiscountPrice: '',//折后价\n                  batchNumber: '',//指定批号\n                  goodsName: item.goodsName,//商品名称\n                  specsMax: item.specsMax,//商品规格\n                }\n                this.subList.push(arraylist);\n                this.goodsId.push(item.id)//奖励商品id\n                this.clearProvMange();//清空使用范围\n              }\n            })\n          }\n          this.tableData2=[];\n          this.tableData3= [];\n          this.subList.forEach((item,index,arr) => {\n            let tablist={};\n            if(this.mainList.length-1<index){\n              tablist={...item, ...this.mainList[this.mainList.length-1]};\n            }else{\n              tablist={...item, ...this.mainList[index]};\n            }\n            this.policyType==3 ? this.tableData2.push(tablist) :this.tableData3.push(tablist);\n          })\n          this.tableData = this.mainList;\n          this.awardGoods='show';\n\n        }\n      },\n\t\t\t// 合并单元格(行数、列数、行号、列号)\n      objectSpanMethod({row,column,rowIndex,columnIndex}) {\n\t      \t\tconsole.log(this.mainList.length, this.subList.length);\n\t      \t\tif(this.policyType == 3 && this.subList.length>1){\n\t      \t\t\tif (columnIndex === 0) {\n\t      \t\t\t\tlet rowspan = new Array(7).fill(0) ;\n\t      \t\t\t\trowspan[0]=this.subList.length;\n\t      \t\t\t\treturn {\n\t\t\t                rowspan: rowspan[rowIndex],\n\t\t\t                colspan: 1\n\t\t\t           }\n\t\t\t        }\n\t      \t\t}else if(this.policyType == 4 && this.subList.length>0){\n\t      \t\t\tif (columnIndex === 0 )  {\n\t      \t\t\t\tlet mul= parseFloat(this.subList.length/this.mainList.length);\n\t      \t\t\t\tlet n= this.subList.length % this.mainList.length;\n\t      \t\t\t\tvar arrMain = [];//主品个数索引\n\t      \t\t\t\tvar mergeMain =[];//需要合并的行数集合\n\t      \t\t\t\tfor(let i = 0; i<this.subList.length; i++){\n\t      \t\t\t\t\tarrMain.push(i);\n\t      \t\t\t\t}\n\t      \t\t\t\tfor(let i = 0; i<arrMain.length; i+=mul){\n\t      \t\t\t\t\tmergeMain.push(arrMain.slice(i,i+mul));\n\t      \t\t\t\t};\n\t      \t\t\t\tconsole.log(\"mergeMain\",JSON.stringify(mergeMain));\n\t      \t\t\t\tfor (let i = 0; i< mergeMain.length; i++){\n\t      \t\t\t\t\tlet element = mergeMain[i];\n\t      \t\t\t\t\tfor (let j = 0; j < element.length; j++) {//[0,1][3,4,5]合并的行  12行合并，345行合并\n\t\t\t\t              \tlet item = element[j];console.log(\"element\",element[j]);\n\t\t\t\t              \tif (rowIndex == item) {//需要合并单元格的行数\n\t\t\t\t                if (j == 0) {\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: element.length,\n\t\t\t\t                    colspan: 1\n\t\t\t\t                  }\n\t\t\t\t                } else if (j != 0) {//不合并的\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: 0,\n\t\t\t\t                    colspan: 0\n\t\t\t\t                  }\n\t\t\t\t                }\n\t\t\t\t            }\n\t\t\t            }\n\t      \t\t\t\t}\n\n\t\t\t        }\n\t      \t\t}else if(this.mainList.length>1 && this.subList.length==0){//多个主品时,奖励商品请选择合并单元格\n\t      \t\t\tif (columnIndex === 1) {\n\t      \t\t\t\tfor (let j = 0; j < 1; j++) {\n\t\t      \t\t\t\tif (rowIndex == 0){\n\t\t      \t\t\t\t\tif (j == 0) {\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: this.mainList.length,\n\t\t\t\t                    colspan: 1\n\t\t\t\t                  }\n\t\t\t\t                } else if (j != 0) {//1   不合并的\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: 0,\n\t\t\t\t                    colspan: 0\n\t\t\t\t                  }\n\t\t\t\t                }\n\t\t      \t\t\t\t}\n\t\t      \t\t\t}\n\t\t\t        }\n\t      \t\t}\n\t      \t},\n\t\t\t//自定义表头\n\t\t\trenderHeader(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '奖励商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods({})}\n\t\t         \t\t}\n\t\t         \t},'添加奖励商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n      renderHeader1(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '需回款商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods()}\n\t\t         \t\t}\n\t\t         \t},'添加需回款商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n      //删除回款奖励商品\n      delItem(params){\n        if(params.handleType == 1){//删除需回款商品\n          this.mainList = this.mainList.filter(p=>p.goodsIdm!=params.goodId)\n          this.goodsIdm = this.goodsIdm.filter(p=>p!=params.goodId)\n        }\n        if(params.handleType == 2){//删除奖励商品\n          this.subList = this.subList.filter(p=>p.goodsId!=params.goodId)\n          this.goodsId = this.goodsId.filter(p=>p!=params.goodId)\n        }\n        this.clearProvMange();//清空使用范围\n      },\n      //删除政策回款商品\n      deleScopeRow(goodsId){\n        this.tableData1 = this.tableData1.filter(p=>p.goodsId!=goodsId);\n        this.goodsId = this.goodsId.filter(p=>p!=goodsId);\n        this.clearProvMange();//清空使用范围\n      },\n\t\t   \t//选择政策--重新赋值\n\t\t\tpolicyChange(val){\n        this.policyType= val;\n        this.awardGoods='hide';//商品列表隐藏\n        this.isHuiKuan=false;//商品列表隐藏\n        this.mainList = [];\n        this.subList = [];\n        this.tableData1 = [];\n        this.goodsIdm = [];//主品id\n        this.goodsId = [];//奖励商品id\n        this.tableData1 = [];\n        this.tableData=[{goodsNamem:\"\",specsMaxm:\"\"}];\n        this.clearProvMange();//清空使用范围\n\t\t\t},\n\t\t\t //点击事业部\n\t\t\tselectSuccess(val){\n\t\t\t\tthis.departmentId = val;\n\t\t\t\tthis.awardGoods='hide';//商品列表隐藏\n\t\t\t\tthis.mainList = [];\n\t\t\t\tthis.subList = [];\n\t\t\t\tthis.goodsIdm = [];//主品id\n\t\t\t\tthis.goodsId = [];//奖励商品id\n        this.tableData1 = [];\n\t\t\t\tthis.tableData=[{goodsNamem:\"\",specsMaxm:\"\"}];\n\t\t\t},\n\t\t\t//适用范围\n\t\t\tsetRange(){\n\t\t\t\tif( this.policyTypes == this.policyType && this.departmentId == this.departmentIds){\n\t\t\t\t\tthis.$refs.dialogSeleProMa.dialogShow();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlet datalist = {\n\t\t\t\t\tdepartmentId: this.departmentId,\n\t\t\t\t\tgoodsId: this.goodsId.toString(),\n\t\t\t\t\tgoodsIdm: this.goodsIdm.toString(),\n\t\t\t\t\tpolicyType: this.policyType\n\t\t\t\t};\n\n\t\t\t\tgetRangeProvince(datalist).then( res => {\n\t\t\t\t\tthis.rangeList = res.data.data;\n\t\t\t\t});\n\t\t\t\tthis.$refs.dialogSeleProMa.dialogShow();\n\n\t\t\t},\n\t\t\t//关闭商品弹窗\n\t\t\tcloseGoodsDiolog(){\n\t\t\t\tthis.dialogSeleGoodsVisible =false;\n\t\t\t},\n\t\t\t//关闭适用范围弹窗\n\t\t\tcloseDiolog(){\n\t\t\t\tthis.dialogRangeVisible =false;\n\t\t\t},\n\n\t\t\t//点击分页\n\t\t\tupdataPage(val){\n        this.pageIndex=val.pageIndex;\n        this.pageSize=val.pageSize;\n\t\t\t\tlet datalist=this.getsearchInfo(this.pageIndex,this.pageSize);\n\t\t\t\tthis.initData(datalist)\n\t\t\t},\n\t    \t//设置适用范围\n      setProvMange(val){\n        this.userId = [];\n        val.forEach(p => {console.log(p)\n          this.userId.push(p.userId);\n        })\n      },\n      //获取商品列表\n      getGoodsList(val){\n        this.pageIndex = val.pageIndex;\n        this.pageSize = val.pageSize;\n        let datalist = {\n          departmentIds: this.departmentId,\n          goodsName:this.$refs.dialogSeleGoods.formInline.goodsName,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        };\n        getGoods(datalist).then( res =>{\n          this.goodsList = res.data.data;\n        });\n      },\n      clearProvMange(){\n        this.userId = [];//清空使用范围\n        this.$refs.dialogSeleProMa.isHuixian = false;\n      },\n      //保存按钮\n      saveAddPolGoods(){\n        if(this.policyType==''){\n          this.$message.success(\"请选择政策类型\")\n          return false;\n        }else if(this.title.trim()==''){\n          this.$message.success(\"请输入政策名称\")\n          return false;\n        }else if(this.policyType==2&&this.policyTypeCheck==''){\n          this.$message.success(\"请选择政策子类型\")\n          return false;\n        }else if(this.policyStartDate==''||this.policyEndDate == ''){\n          this.$message.success(\"请选择政策有效期\")\n          return false;\n        }else if(this.departmentId==''){\n          this.$message.success(\"请选择事业部\")\n          return false;\n        }\n        let policyRule=[];\n        let isSubmit = false;\n        if(this.policyType==2){//奖励政策\n          if(this.tableData1.length>0){\n            let obj = {};\n            let _num = 0;\n            const _arr = this.tableData1.slice();\n            _arr.reverse().forEach(p=>{\n              if(p.awardNum.toString().length>0&&p.afterDiscountPrice.toString().length>0){\n                _num+=1;\n                obj = {\n                  \"goodsId\":p.goodsId //商品id\n                  ,\"awardNum\":p.awardNum//奖励数量，必填\n                  ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                  ,\"batchNumber\":p.batchNumber   //指定批号\n                }\n                policyRule.push(obj);\n              }else{\n                if(p.awardNum.length.toString()==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                }else if(p.afterDiscountPrice.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                }\n              }\n            })\n            if(_num == this.tableData1.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }else{\n            this.$message.success(\"请完善政策规则\")\n          }\n        }else{//回款奖励\n          const mainArray = [];\n          const subArray = [];\n          if(this.mainList.length==0){\n            this.$message.success(\"请添加需回款的商品\")\n            isSubmit = false;\n            return false;\n          }else{\n            const mainArr = this.mainList.slice();\n            let obj = {};\n            let _num = 0;\n            mainArr.reverse().forEach(p=>{\n              if(p.collectionNum.toString().length>0){\n                _num += 1;\n                obj = {\n                  \"goodsId\":p.goodsIdm//商品id\n                  ,\"collectionNum\": p.collectionNum//回款数量\n                }\n                mainArray.push(obj)\n              }else{\n                if(p.collectionNum.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsNamem+\"】的回款商品数量\")\n                }\n              }\n            })\n            if(_num == this.mainList.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }\n          if(this.subList.length==0){\n            this.$message.success(\"请添加奖励的商品\")\n            isSubmit = false;\n            return false;\n          }else{\n            const subArr = this.subList.slice();\n            let obj = {};\n            let _num = 0;\n            subArr.reverse().forEach(p=>{\n              if(p.awardNum.toString().length>0&&p.afterDiscountPrice.toString().length>0){\n                _num += 1;\n                obj = {\n                  \"goodsId\":p.goodsId  //商品id\n                  ,\"awardNum\":p.awardNum //奖励数量，必填\n                  ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                  ,\"batchNumber\":p.batchNumber    //指定批号\n                }\n                subArray.push(obj)\n              }else{\n                if(p.awardNum.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                }else if(p.afterDiscountPrice.toString().length==0){\n                  this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                }\n              }\n            })\n            if(_num == this.subList.length){\n              isSubmit = true;\n            }else{\n              isSubmit = false;\n            }\n          }\n          policyRule = {\n            \"mainArray\":mainArray\n            ,\"subArray\":subArray\n          }\n        }\n        if(this.userId.length==''){\n          this.$message.success(\"请设置适用范围\");\n          isSubmit = false;\n          return false;\n        }\n        if(isSubmit){\n            if(this.$route.query.handleType == 1){//修改\n              let datalist = {\n                id: this.id,//政策类型\n                policyType: this.policyType,//政策类型\n                policyStartDate: this.policyStartDate,//政策有效期\n                policyEndDate: this.policyEndDate,//政策有效期\n                title: this.title,//政策名称\n                verificationStartDate: this.verificationStartDate,//核销起始时间\n                verificationEndDate: this.verificationEndDate,//核销结束时间\n                departmentId: this.departmentId,//事业部\n                remark: this.remark,//政策说明\n                policyRule: JSON.stringify(policyRule),\n                policyRange: this.userId.toString(),\n                policyTypeCheck:this.policyTypeCheck=='null'?'':this.policyTypeCheck,//政策子类型\n              }\n              updatePolicy(datalist).then( res =>{\n                if(res.data.code == 1){\n                  this.$router.go(-1);\n                }else{\n                  this.$message.success(res.data.msg);\n                }\n              })\n            }else{//复制\n              let datalist = {\n                policyType: this.policyType,//政策类型\n                policyStartDate: this.policyStartDate,//政策有效期\n                policyEndDate: this.policyEndDate,//政策有效期\n                title: this.title,//政策名称\n                verificationStartDate: this.verificationStartDate,//核销起始时间\n                verificationEndDate: this.verificationEndDate,//核销结束时间\n                departmentId: this.departmentId,//事业部\n                remark: this.remark,//政策说明\n                policyRule: JSON.stringify(policyRule),\n                policyRange: this.userId.toString(),\n                policyTypeCheck:this.policyTypeCheck=='null'?'':this.policyTypeCheck,//政策子类型\n              }\n              savePolGoods(datalist).then( res =>{\n                if(res.data.code == 1){\n                  this.$router.go(-1);\n                }else{\n                  this.$message.success(res.data.msg);\n                }\n              })\n            }\n\n        }\n      }\n\t    }\n  \t}\n</script>\n\n<style lang=\"scss\" scoped=\"scoped\">\n\t.containInfo_wraper {\n\t\tmargin: 20px 30px;\n\t\tbackground: #ffff;\n\t\tborder: 1px solid #e6e6e6;\n\t\toverflow: hidden;\n\t\t.detail_title {\n\t\t\tpadding: 0 20px;\n\t\t\tline-height: 50px;\n\t\t\tcolor: #1f5dbc;\n\t\t\tfont-size: 14px;\n\t\t\t.line_Icon {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 4px;\n\t\t\t\theight: 14px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-right: 5px;\n\t\t\t\tborder-radius: 20%;\n\t\t\t\tbackground: #1f5dbc;\n\t\t\t}\n\t\t\tborder-bottom:1px solid #e6e6e6;\n\t\t}\n\t\t.detail_content {\n\t\t\tpadding: 20px 29px 20px;\n\t\t\tline-height: 49px;\n\t\t\tfont-size: 14px;\n\t\t\t.poliyMark{\n\t\t\t\tborder:1px solid #e6e6e6;\n\t\t\t\tborder-radius:5px;\n\t\t\t\twidth:85%;\n\t\t\t\theight:70px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-left:20px;\n\t\t\t\tpadding:10px;\n\t\t\t\tline-height:26px;\n        resize:none\n\t\t\t}\n\n\t\t}\n\t\t.table_wrap{\n\t\t\tmargin-top: 0;\n\t\t\tborder: none;\n\t\t\tpadding:20px 39px;\n\t\t\t.tableInput{\n\t\t\t    border-radius: 4px;\n\t\t\t    border: 1px solid #dcdfe6;\n\t\t\t    box-sizing: border-box;\n\t\t\t    height: 40px;\n\t\t\t    line-height: 40px;\n\t\t\t    padding: 0 15px;\n\t\t\t    width: 60%;\n\n\t\t\t}\n\t\t}\n\t\t.detail_table{\n\t\t\tpadding:20px 39px;\n\t\t}\n\t\t.viewRemark{\n\t\t\tmargin-left:10px;\n\t\t\tcolor : #1f5dbc;\n\t\t\tfont-size:14px;\n\t\t}\n\t}\n\t.operateWraper {\n\t\tmargin: 20px;\n\t\ttext-align: center;\n\t\t.el-button-red {\n\t\t\tpadding: 0 0.5rem;\n\t\t}\n\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/headquarter/marketManage/edit_promoPolicy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create_wraper\"},[(this.$route.query.handleType == 1)?_c('go-back',{attrs:{\"title\":\"编辑促销政策\"}}):_c('go-back',{attrs:{\"title\":\"复制促销政策\"}}),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"label-width\":\"100px\"}},[_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"基本信息：\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_content\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\"is-required\",attrs:{\"label\":\"政策类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策类型\"},on:{\"change\":_vm.policyChange},model:{value:(_vm.policyTypes),callback:function ($$v) {_vm.policyTypes=$$v},expression:\"policyTypes\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"奖励政策\",\"value\":\"2\"}}),_vm._v(\" \"),(_vm.policyType==3)?_c('el-option',{key:\"2\",attrs:{\"label\":\"回款奖励\",\"value\":\"3\"}}):(_vm.policyType==4)?_c('el-option',{key:\"3\",attrs:{\"label\":\"回款奖励\",\"value\":\"4\"}}):_c('el-option',{key:\"2\",attrs:{\"label\":\"回款奖励\",\"value\":\"3\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\" is-required\",attrs:{\"label\":\"政策名称：\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入政策名称\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策有效期：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\",\"starTim\":_vm.policyStartDate,\"endTim\":_vm.policyEndDate},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'policyValidDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\"is-required\",attrs:{\"label\":\"事业部：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择事业部\"},on:{\"change\":_vm.selectSuccess},model:{value:(_vm.departmentId),callback:function ($$v) {_vm.departmentId=$$v},expression:\"departmentId\"}},[_c('el-option',{attrs:{\"label\":\"请选择事业部\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.departmentMenu),function(item,key,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":key}})})],2)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item\"},[_c('div',{staticClass:\"div-inline\"},[_vm._v(\"核销期间：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\",\"starTim\":_vm.verificationStartDate,\"endTim\":_vm.verificationEndDate},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'verifyDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.policyType==2),expression:\"policyType==2\"}],attrs:{\"span\":7}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策子类型：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择政策子类型\"},model:{value:(_vm.policyTypeCheck == null?'':_vm.policyTypeCheck),callback:function ($$v) {_vm.policyTypeCheck == null?'':_vm.policyTypeCheck=$$v},expression:\"policyTypeCheck == null?'':policyTypeCheck\"}},[_c('el-option',{attrs:{\"label\":\"请选择政策子类型\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{key:\"1\",attrs:{\"label\":\"人员变动\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{key:\"2\",attrs:{\"label\":\"库存处理\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{key:\"3\",attrs:{\"label\":\"纯回款奖励\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{key:\"4\",attrs:{\"label\":\"会议奖励\",\"value\":\"4\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_vm._v(\"政策说明:\"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remark),expression:\"remark\"}],staticClass:\"poliyMark\",attrs:{\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.remark=$event.target.value}}})])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"政策规则\")]),_vm._v(\" \"),_c('div',{staticClass:\"table_wrap\"},[_c('select-goods',{ref:\"dialogSeleGoods\",attrs:{\"title\":\"选择商品\",\"goodsList\":_vm.goodsList,\"policyType\":_vm.policyType,\"isradio\":_vm.isradio},on:{\"getGoodsList\":_vm.getGoodsList,\"selectAwardGoods\":_vm.selectAwardGoods,\"closeGoodsDiolog\":_vm.closeGoodsDiolog,\"uploadData\":_vm.uploadData}}),_vm._v(\" \"),(_vm.awardGoods=='hide')?_c('div',{staticClass:\"viewRemark\",on:{\"click\":_vm.selectAwardGoods}},[_vm._v(\"请选择需回款商品\")]):_vm._e(),_vm._v(\" \"),(_vm.awardGoods=='show')?_c('div',[(_vm.policyType==2)?_c('el-table',{attrs:{\"data\":_vm.tableData1,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"render-header\":_vm.renderHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.goodsName)),_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.deleScopeRow(scope.row.goodsId)}}},[_vm._v(\"删除\")])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.specsMax))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"awardNum\",\"label\":\"奖励数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.awardNum),expression:\"scope.row.awardNum\"},{name:\"vue-onkeypress\",rawName:\"v-vue-onkeypress\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>8)value=value.slice(0,8)\"},domProps:{\"value\":(scope.row.awardNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"awardNum\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"afterDiscountPrice\",\"label\":\"折后价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.afterDiscountPrice),expression:\"scope.row.afterDiscountPrice\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\"},domProps:{\"value\":(scope.row.afterDiscountPrice)},on:{\"keydown\":_vm.handleInput2,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"afterDiscountPrice\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"batchNumber\",\"label\":\"指定批号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.batchNumber),expression:\"scope.row.batchNumber\"},{name:\"vue-onkeypress\",rawName:\"v-vue-onkeypress\"}],staticClass:\"tableInput\",domProps:{\"value\":(scope.row.batchNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"batchNumber\", $event.target.value)}}})]}}])})],1):_vm._e(),_vm._v(\" \"),(_vm.policyType==3||_vm.policyType==4)?[_c('mainTable',{attrs:{\"items\":_vm.mainList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}}),_vm._v(\" \"),_c('subTable',{attrs:{\"items\":_vm.subList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}})]:_vm._e()],2):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"适用范围\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_table\"},[_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.setRange()}}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('releaseRange',{ref:\"dialogSeleProMa\",attrs:{\"isView\":false,\"dialogRangeVisible\":_vm.dialogRangeVisible,\"relRangeList\":_vm.rangeList,\"title\":\"发布范围\"},on:{\"setProvMange\":_vm.setProvMange}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"operateWraper\"},[_c('div',{staticClass:\"div-inline el-button-red\",on:{\"click\":_vm.saveAddPolGoods}},[_vm._v(\"保存\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2a69d255\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/headquarter/marketManage/edit_promoPolicy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a69d255\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./edit_promoPolicy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit_promoPolicy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./edit_promoPolicy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a69d255\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./edit_promoPolicy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a69d255\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/headquarter/marketManage/edit_promoPolicy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}