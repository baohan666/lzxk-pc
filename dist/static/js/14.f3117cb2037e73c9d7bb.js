webpackJsonp([14],{"/VRo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("ROW2"),o=a("a9+l"),r=a("bWIj"),i={data:function(){return{departmentId:"",provinceName:"",provinceManager:"",goodsName:"",departmentMenu:[],totalRecords:0,totalPageCnt:0,pageIndex:1,pageSize:10,pagin_show:!0,tableData:[]}},mounted:function(){var e=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(e)},components:{elPagination:o.a},methods:{initData:function(e){var t=this;Object(r.b)(e).then(function(e){var a=e.data.data;a.dataList.length>0?(t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData=a.dataList,t.pagin_show=!0):(t.tableData=[],t.pagin_show=!1)}),Object(n.b)("departmentMenu")?this.departmentMenu=JSON.parse(Object(n.b)("departmentMenu")):this.departmentMenu=Object(n.c)(),console.log(this.departmentMenu)},getsearchInfo:function(e,t){return{pageIndex:e,pageSize:t,provinceName:this.provinceName,provinceManager:this.provinceManager,goodsName:this.goodsName,departmentId:this.departmentId}},getCusType:function(){var e=this;getCusTypeData("").then(function(t){e.customerList=t.data.data,console.log(e.customerList)})},toInquire:function(){var e=this.getsearchInfo(1,this.pageSize);this.initData(e)},exportData:function(){var e={departmentId:this.departmentId,provinceName:this.provinceName,provinceManager:this.provinceManager,goodsName:this.goodsName};Object(r.a)(e).then(function(e){var t=(new Date).getTime()+".xls",a=new Blob([e.data]),n=document.createElement("a");n.download=t,n.style.display="none",n.href=URL.createObjectURL(a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)})},viewLog:function(e){this.$router.push({path:"/provinStockLogZB",query:{id:e}})},updataPage:function(e){this.pageIndex=e.pageIndex,this.pageSize=e.pageSize;var t=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(t)}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"事业部："}},[a("el-select",{attrs:{placeholder:"请选择事业部"},model:{value:e.departmentId,callback:function(t){e.departmentId=t},expression:"departmentId"}},e._l(e.departmentMenu,function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"所属省区："}},[a("el-input",{attrs:{placeholder:"请输入所属省区"},model:{value:e.provinceName,callback:function(t){e.provinceName=t},expression:"provinceName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"省区经理："}},[a("el-input",{attrs:{placeholder:"请输入省区经理"},model:{value:e.provinceManager,callback:function(t){e.provinceManager=t},expression:"provinceManager"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品名称："}},[a("el-input",{attrs:{placeholder:"请输入商品名称"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(t){e.toInquire()}}},[e._v("查询")]),e._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(t){e.exportData()}}},[e._v("导出")])],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"departmentId",label:"事业部",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n\t\t        "+e._s(0==t.row.departmentId?"顶级部门":1==t.row.departmentId?"心脑事业部":2==t.row.departmentId?"风湿及骨科事业部":2==t.row.departmentId?"云事业部":"消化事业部")+"\n\t\t    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"provinceName",label:"所属省区"}}),e._v(" "),a("el-table-column",{attrs:{prop:"provinceManager",label:"省区经理"}}),e._v(" "),a("el-table-column",{attrs:{prop:"goodsName",label:"产品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialCode",label:"物料编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"enterprise",label:"生产企业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stockActual",label:"实际库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stockUsable",label:"可销售库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stockUnusable",label:"冻结库存"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operateBtn",on:{click:function(a){e.viewLog(t.row.id)}}},[e._v("查看日志")])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{pageIndex:e.pageIndex,pageSize:e.pageSize,totalRecords:e.totalRecords,totalPageCnt:e.totalPageCnt,pagin_show:e.pagin_show},on:{clickpage:e.updataPage}})],1)])},staticRenderFns:[]};var s=a("C7Lr")(i,l,!1,function(e){a("umK8"),a("BBig")},"data-v-2a2360c9",null);t.default=s.exports},BBig:function(e,t){},bWIj:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return s});var n=a("lta2"),o=a("6iV/"),r=a.n(o),i=function(e){return n.a.post(n.a.baseURL+"goodsStock/list",r.a.stringify(e))},l=function(e){return n.a.post(n.a.baseURL+"goodsStock/excel",r.a.stringify(e),{responseType:"blob"})},s=function(e){return n.a.post(n.a.baseURL+"goodsStockLog/list",r.a.stringify(e))}},umK8:function(e,t){}});
//# sourceMappingURL=14.f3117cb2037e73c9d7bb.js.map