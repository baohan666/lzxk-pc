{"version":3,"sources":["webpack:///src/pages/headquarter/marketManage/add_promoPolicy.vue","webpack:///./src/pages/headquarter/marketManage/add_promoPolicy.vue?6816","webpack:///./src/pages/headquarter/marketManage/add_promoPolicy.vue"],"names":["add_promoPolicy","data","ruleForm","policyType","policyTypeCheck","policyStartDate","policyEndDate","title","verificationStartDate","verificationEndDate","departmentId","remark","tableData1","tableData2","tableData3","rangeList","userId","goodsList","isradio","dialogSeleGoodsVisible","tableData","goodsNamem","specsMaxm","selectType","mainList","subList","goodsIdm","goodsId","pageIndex","pageSize","dialogRangeVisible","awardGoods","handleType","isHuiKuan","created","components","goBack","departComponet","departComponent","datepicker","data_plugin","elPagination","el_page","selectGoods","releaseRange","mainTable","main_table","subTable","sub_table","methods","changeSelect","val","type","console","log","this","selectAwardGoods","params","_this","undefined","datalist","departmentIds","goodsName","name","length","Object","promotionPolicy","then","res","$refs","dialogSeleGoods","dialogShow","$message","success","getGoodsList","_this2","formInline","handleInput2","e","uploadData","_this3","forEach","item","index","arr","includes","id","arraylist","awardNum","afterDiscountPrice","batchNumber","specsMax","push","collectionNum","tablist","extends_default","objectSpanMethod","_ref","row","column","rowIndex","columnIndex","rowspan","Array","fill","colspan","mul","parseFloat","arrMain","mergeMain","i","_i","slice","_i2","element","j","_j","renderHeader","h","_this4","class","on","click","renderHeader1","_this5","delItem","filter","p","goodId","deleScopeRow","policyChange","selectSuccess","setRange","_this6","toString","dialogSeleProMa","closeGoodsDiolog","closeDiolog","updataPage","getsearchInfo","initData","setProvMange","_this7","saveAddPolGoods","_this8","trim","policyRule","isSubmit","obj","_num","reverse","discountPrice","mainArray","subArray","_obj","_num2","_obj2","_num3","stringify_default","policyRange","code","$router","go","msg","marketManage_add_promoPolicy","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","model","inline","label-width","gutter","span","label","placeholder","change","value","callback","$$v","$set","expression","key","maxlength","startIsShow","endIsShow","departMsg","directives","rawName","cols","rows","domProps","input","$event","target","composing","_e","border","tooltip-effect","render-header","scopedSlots","_u","fn","scope","_s","prop","oninput","keydown","items","isView","relRangeList","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.cc9bd6b6f977662b6736.js","sourcesContent":["<template>\n\t<div class=\"create_wraper\">\n\t\t<go-back title=\"新增促销政策\"></go-back>\n\t\t<el-form :model=\"ruleForm\" :inline=\"true\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-form-inline\">\n\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>基本信息：</div>\n\t\t\t<div class=\"detail_content\">\n\t\t\t\t<el-row :gutter=\"20\">\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策类型：\" class=\"is-required\">\n\t\t\t\t\t\t    <el-select v-model=\"ruleForm.policyType\" placeholder=\"请选择政策类型\" @change =\"policyChange\">\n\t\t\t      \t\t\t\t<el-option  label=\"奖励政策\" value=\"2\" key=\"1\"></el-option>\n\t\t\t      \t\t\t\t<el-option  label=\"回款奖励\" value=\"3\" key=\"2\"></el-option>\n\t\t\t\t\t\t    </el-select>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\t\t\t\t\t<el-col :span=\"7\">\n\t\t\t\t\t  \t<el-form-item label=\"政策名称：\" class=\" is-required\">\n\t\t\t\t\t\t    <el-input v-model=\"ruleForm.title\" maxlength=\"100\"  placeholder=\"请输入政策名称\"></el-input>\n\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t</el-col>\n\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item is-required\">\n\t\t\t\t\t  \t\t<div class=\"div-inline el-form-item__label\">政策有效期：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'policyValidDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n\t\t\t\t  \t<el-col :span=\"7\">\n\t\t\t\t\t  \t<div class=\"div-inline el-form-item is-required\">\n\t\t\t\t \t\t\t<depart-componet departMsg=\"事业部：\" @selectSuccess = \"selectSuccess\"></depart-componet>\n\t\t\t\t \t\t</div>\n\t\t\t \t\t</el-col>\n\t\t\t\t  \t<el-col :span=\"10\">\n\t\t\t\t  \t\t<div class=\"div-inline el-form-item\">\n\t\t\t\t\t  \t\t<div class=\"div-inline\">核销期间：</div>\n\t\t\t  \t\t\t\t<datepicker startIsShow = \"true\" endIsShow= \"true\" class=\"div-inline\" @changeSelect=\"(value) =>changeSelect(value, 'verifyDate')\"></datepicker>\n\t\t\t\t\t  \t</div>\n\t\t\t\t  \t</el-col>\n          <el-col :span=\"7\" v-show=\"ruleForm.policyType == 2\">\n            <div class=\"div-inline el-form-item is-required\">\n              <div class=\"div-inline el-form-item__label\">政策子类型：</div>\n              <el-select v-model=\"ruleForm.policyTypeCheck\" placeholder=\"请选择政策子类型\">\n                <el-option label=\"请选择政策子类型\" value=''></el-option>\n                <el-option  label=\"人员变动\" value=\"1\" key=\"1\"></el-option>\n                <el-option  label=\"库存处理\" value=\"2\" key=\"2\"></el-option>\n                <el-option  label=\"纯回款奖励\" value=\"3\" key=\"3\"></el-option>\n                <el-option  label=\"会议奖励\" value=\"4\" key=\"4\"></el-option>\n              </el-select>\n            </div>\n          </el-col>\n\t\t\t\t</el-row>\n\t\t\t\t<el-row>\n\t\t\t\t\t<el-col :span=\"20\">政策说明:<textarea class=\"poliyMark\" maxlength=\"500\" v-model=\"ruleForm.remark\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea></el-col>\n\t\t\t\t</el-row>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>政策规则</div>\n\n\t\t\t<div class = \"table_wrap\">\n\t\t\t\t<!--选择商品弹窗-->\n\t\t\t\t<select-goods title=\"选择商品\" @getGoodsList=\"getGoodsList\" ref=\"dialogSeleGoods\" :goodsList=\"goodsList\" :policyType=\"policyType\" :isradio=\"isradio\" @selectAwardGoods=\"selectAwardGoods\" @closeGoodsDiolog=\"closeGoodsDiolog\" @uploadData=\"uploadData\">\n\t\t\t\t</select-goods>\n\t\t\t\t<div v-if=\"awardGoods=='hide'\" class = \"viewRemark\" @click=\"selectAwardGoods\">请选择需回款商品</div>\n\t\t\t\t<div v-if = \"awardGoods=='show'\">\n\t\t\t\t\t<!--奖励商品-->\n\t\t\t\t\t<el-table v-if=\"ruleForm.policyType==2\" :data=\"ruleForm.tableData1\" border tooltip-effect=\"dark\">\n\t\t\t\t\t    <el-table-column :render-header=\"renderHeader\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<div>{{scope.row.goodsName}}<span class=\"viewRemark\" @click = \"deleScopeRow(scope.row.goodsId)\">删除</span></div>\n\t\t\t\t\t\t\t\t<div>{{scope.row.specsMax}}</div>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"awardNum\" label=\"奖励数量\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" type=\"number\" oninput=\"if(value.length>8)value=value.slice(0,8)\"  v-model=\"scope.row.awardNum\" v-vue-onkeypress>\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t    <el-table-column prop=\"afterDiscountPrice\" label=\"折后价\">\n\t\t\t\t\t    \t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" type=\"number\" oninput=\"if(value.length>8)value=value.slice(0,8)\" v-model=\"scope.row.afterDiscountPrice\"  @keydown=\"handleInput2\">\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t    </el-table-column>\n\t\t\t\t\t  \t<el-table-column prop=\"batchNumber\" label=\"指定批号\">\n\t\t\t\t\t  \t\t<template slot-scope=\"scope\">\n\t\t\t\t\t    \t\t<input class=\"tableInput\" maxlength=\"100\" v-model=\"scope.row.batchNumber\">\n\t\t\t\t\t    \t</template>\n\t\t\t\t\t  \t</el-table-column>\n\t\t\t\t  \t</el-table>\n\t\t\t\t</div>\n        <template v-if=\"isHuiKuan\">\n          <!--回款商品-->\n          <mainTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"mainList\"></mainTable>\n          <!--奖励商品-->\n          <subTable @selectAwardGoods=\"selectAwardGoods\" @delItem=\"delItem\" :items=\"subList\"></subTable>\n        </template>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"containInfo_wraper\">\n\t\t\t<div class=\"detail_title\"><i class=\"line_Icon\"></i>适用范围</div>\n\t\t\t<div class = \"detail_table\">\n\t\t\t\t<span class=\"viewRemark\" @click=\"setRange()\">设置</span>\n\t\t\t\t<releaseRange ref=\"dialogSeleProMa\" :isView=\"false\"  :dialogRangeVisible=\"dialogRangeVisible\" :relRangeList =\"ruleForm.rangeList\" title =\"发布范围\" @setProvMange = \"setProvMange\"></releaseRange>\n\t\t\t</div>\n\t\t</div>\n\t\t</el-form>\n\t\t<div class=\"operateWraper\">\n\t\t\t<div class=\"div-inline el-button-red\" @click = \"saveAddPolGoods\">保存</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport goBack from 'src/components/goBack';\n\timport departComponet from 'src/headComponent/departComponent';\n\timport datepicker from 'components/data-plugin';\n\timport elPagination from 'components/el-page';\n\timport selectGoods from 'src/headComponent/selectGoods';\n\timport releaseRange from 'src/headComponent/releaseRange';\n\timport mainTable from 'src/pages/headquarter/marketManage/main_table';\n\timport subTable from 'src/pages/headquarter/marketManage/sub_table';\n  import {getGoods, getRangeProvince, savePolGoods} from 'src/api/headquarter_url/promotionPolicy';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\truleForm:{\n\t\t\t\t\tpolicyType: '',//政策类型\n          policyTypeCheck: '',//政策子类型\n\t\t\t\t\tpolicyStartDate:'',//政策有效期\n\t\t\t\t\tpolicyEndDate:'',//政策有效期\n\t\t\t\t\ttitle:'',//政策名称\n\t\t\t\t\tverificationStartDate: '',//核销起始时间\n\t\t\t\t\tverificationEndDate: '',//核销结束时间\n\t\t\t\t\tdepartmentId: '',//事业部\n\t\t\t\t\tremark: '',//政策说明\n\t\t\t\t\ttableData1:[],//奖励商品policyType==2\n          tableData2:[],\n          tableData3:[],\n\t\t\t\t\trangeList:[],\n\t\t\t\t\tuserId:[]////适用范围id\n\t\t\t\t},\n\t\t\t\tgoodsList:'',//\n\t\t\t\tpolicyType:'',\n\t\t\t\tisradio:false,\n\t\t\t\tdialogSeleGoodsVisible:false,//选择需回款商品\n\t\t\t\ttableData: [{goodsNamem:\"\",specsMaxm:\"\"}],\n\t\t\t\tselectType: '',//选择类型，主品“mulAwardGoods”，奖励为“”\n\t\t\t\tmainList:[],//主品\n\t\t\t\tsubList: [],//奖励商品\n\t\t\t\tgoodsIdm:[],//主品id\n\t\t\t\tgoodsId:[],//奖励商品id\n\t\t\t\tpageIndex: 1,//当前页\n\t\t\t\tpageSize:10,\n\t\t\t\tdialogRangeVisible:false,//适用范围弹窗\n\t\t\t\tawardGoods: \"hide\",//选择需回款商品\n        handleType:'',//1需回款商品 2奖励商品\n        isHuiKuan:false,//是否为回款政策\n\t\t\t}\n\t\t},\n\t\tcreated() {},\n\t\tcomponents:{\n\t\t\tgoBack,\n      departComponet,\n      datepicker,\n      elPagination,\n      selectGoods,\n      releaseRange,\n      mainTable,\n      subTable\n\t    },\n\t\tmethods: {\n\t\t\t//日期组件\n\t\t\tchangeSelect(val,type){console.log(val,type);\n\t\t\t\tif(type == \"policyValidDate\"){\n\t\t\t\t\tval.type == \"startDate\"?this.ruleForm.policyStartDate = val.data : this.ruleForm.policyEndDate = val.data;\n\t\t\t\t}else{\n\t\t\t\t\tval.type == \"startDate\"?this.ruleForm.verificationStartDate = val.data : this.ruleForm.verificationEndDate = val.data;\n\t\t\t\t}\n\t\t\t},\n\t\t\t//选择需回款商品\n\t\t\tselectAwardGoods(params){\n        if(params.handleType != undefined){\n          this.handleType = params.handleType;\n        }\n        if(params.pageIndex == 1){\n          this.pageIndex = params.pageIndex;\n        }\n        params.handleType=='1' ? this.selectType= 'mulAwardGoods' : this.selectType= '';\n\t\t\t\tlet datalist = {\n\t\t\t\t\tdepartmentIds: this.ruleForm.departmentId,\n\t\t\t\t\tgoodsName:params.name == undefined?\"\":params.name,\n\t\t\t\t\tpageIndex: this.pageIndex,\n\t\t\t\t\tpageSize: this.pageSize\n\t\t\t\t};\n\t\t\t\t//奖励政策直接选择商品，单品和多品先选择主品再选择奖励商品\n\t\t\t\tif(this.ruleForm.departmentId!='' && this.policyType!=''){\n\t\t\t\t\tif((this.policyType !=2 && this.awardGoods=='show') || this.policyType ==2 || this.policyType !=2 && this.mainList.length>0){\n            getGoods(datalist).then( res =>{\n              this.goodsList = res.data.data;\n              this.$refs.dialogSeleGoods.dialogShow();\n            });\n\t\t\t\t\t}else if(this.policyType !=2 && this.mainList.length == 0 && this.awardGoods=='hide'){\n            this.isHuiKuan=true;\n            this.awardGoods='show'\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.$message.success('请先选择政策类型和事业部');\n\t\t\t\t}\n\t\t\t},\n      //获取商品列表\n      getGoodsList(val){\n        this.pageIndex = val.pageIndex;\n        this.pageSize = val.pageSize;\n        let datalist = {\n          departmentIds: this.ruleForm.departmentId,\n          goodsName:this.$refs.dialogSeleGoods.formInline.goodsName,\n          pageIndex: this.pageIndex,\n          pageSize: this.pageSize\n        };\n        getGoods(datalist).then( res =>{\n          this.goodsList = res.data.data;\n        });\n      },\n      handleInput2(e) {\n        // 通过正则过滤小数点后两位\n//         e.target.value = (e.target.value.match(/^\\d*(\\.?\\d{0,1})/g)[0]) || null\n      },\n\t\t\t//选择商品确定按钮\n\t\t\tuploadData(val){\n\t\t\t\tif(this.ruleForm.policyType==2){//奖励商品\n\t\t\t\t\tval.forEach((item, index, arr) => {\n\t\t\t\t\t    if(!this.goodsId.includes(item.id)){\n                let\tarraylist={\n                  goodsId: item.id,//商品id--奖励商品的id\n                  awardNum:'',//奖励数量\n                  afterDiscountPrice: '',//折后价\n                  batchNumber: '',//指定批号\n                  goodsName: item.goodsName,//商品名称\n                  specsMax: item.specsMax,//商品规格\n                }\n                this.ruleForm.tableData1.push(arraylist);\n                this.goodsId.push(item.id)//奖励商品id\n                this.ruleForm.userId = [];//清空使用范围\n              }\n\t\t\t\t\t})\n\t\t\t\t\tthis.awardGoods='show';\n\n\t\t\t\t}else if(this.ruleForm.policyType!=2){//单品和多品回款奖励\n\t\t\t\t\t\tif(this.handleType == 1){//如果还没选择主品\n\t\t\t\t\t\t\tval.forEach((item, index, arr) => {\n                if(!this.goodsIdm.includes(item.id)){\n                  let arraylist='';\n                  arraylist = {\n                    goodsIdm:  item.id,//商品id---主品的商品id--加了m区分\n                    goodsNamem: item.goodsName,//商品名称--主品的商品名字-加m区别奖励\n                    specsMaxm: item.specsMax,//商品规格-区分\n                    collectionNum: '',//回款商品数量\n                  };\n                  this.mainList.push(arraylist);\n                  this.goodsIdm.push(item.id)//主品id\n                  this.ruleForm.userId = [];//清空使用范围\n                }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else if(this.handleType == 2){//已经选择主品\n\t\t\t\t\t\t\tval.forEach((item, index, arr) => {\n                if(!this.goodsId.includes(item.id)){\n                  let arraylist='';\n                  arraylist ={\n                    goodsId: item.id,//商品id--奖励商品的id\n                    awardNum:'',//奖励数量\n                    afterDiscountPrice: '',//折后价\n                    batchNumber: '',//指定批号\n                    goodsName: item.goodsName,//商品名称\n                    specsMax: item.specsMax,//商品规格\n                  }\n                  this.subList.push(arraylist);\n                  this.goodsId.push(item.id)//奖励商品id\n                  this.ruleForm.userId = [];//清空使用范围\n                }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.ruleForm.tableData2=[];\n\t\t\t\t\t\tthis.ruleForm.tableData3= [];\n\t\t\t\t\tthis.subList.forEach((item,index,arr) => {\n\t\t\t\t\t\tlet tablist={};\n\t\t\t\t\t\tif(this.mainList.length-1<index){\n\t\t\t\t\t\t\ttablist={...item, ...this.mainList[this.mainList.length-1]};\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttablist={...item, ...this.mainList[index]};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.policyType==3 ? this.ruleForm.tableData2.push(tablist) :this.ruleForm.tableData3.push(tablist);\n\t\t\t\t\t})\n\t\t\t\t\tthis.tableData = this.mainList;\n\t\t\t\t\tthis.awardGoods='show';\n\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 合并单元格(行数、列数、行号、列号)\n      objectSpanMethod({row,column,rowIndex,columnIndex}) {\n\t      \t\tif(this.policyType == 3 && this.subList.length>1){\n\t      \t\t\tif (columnIndex === 0) {\n\t      \t\t\t\tlet rowspan = new Array(7).fill(0) ;\n\t      \t\t\t\trowspan[0]=this.subList.length;\n\t      \t\t\t\treturn {\n\t\t\t                rowspan: rowspan[rowIndex],\n\t\t\t                colspan: 1\n\t\t\t           }\n\t\t\t        }\n\t      \t\t}else if(this.policyType == 4 && this.subList.length>0){\n\t      \t\t\tif (columnIndex === 0 )  {\n\t      \t\t\t\tlet mul= parseFloat(this.subList.length/this.mainList.length);\n\t      \t\t\t\tlet n= this.subList.length % this.mainList.length;\n\t      \t\t\t\tvar arrMain = [];//主品个数索引\n\t      \t\t\t\tvar mergeMain =[];//需要合并的行数集合\n\t      \t\t\t\tfor(let i = 0; i<this.subList.length; i++){\n\t      \t\t\t\t\tarrMain.push(i);\n\t      \t\t\t\t}\n\t      \t\t\t\tfor(let i = 0; i<arrMain.length; i+=mul){\n\t      \t\t\t\t\tmergeMain.push(arrMain.slice(i,i+mul));\n\t      \t\t\t\t};\n\t      \t\t\t\tfor (let i = 0; i< mergeMain.length; i++){\n\t      \t\t\t\t\tlet element = mergeMain[i];\n\t      \t\t\t\t\tfor (let j = 0; j < element.length; j++) {//[0,1][3,4,5]合并的行  12行合并，345行合并\n\t\t\t\t              \tlet item = element[j];console.log(\"element\",element[j]);\n\t\t\t\t              \tif (rowIndex == item) {//需要合并单元格的行数\n\t\t\t\t                if (j == 0) {\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: element.length,\n\t\t\t\t                    colspan: 1\n\t\t\t\t                  }\n\t\t\t\t                } else if (j != 0) {//不合并的\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: 0,\n\t\t\t\t                    colspan: 0\n\t\t\t\t                  }\n\t\t\t\t                }\n\t\t\t\t            }\n\t\t\t            }\n\t      \t\t\t\t}\n\n\t\t\t        }\n\t      \t\t}else if(this.mainList.length>1 && this.subList.length==0){//多个主品时,奖励商品请选择合并单元格\n\t      \t\t\tif (columnIndex === 1) {\n\t      \t\t\t\tfor (let j = 0; j < 1; j++) {\n\t\t      \t\t\t\tif (rowIndex == 0){\n\t\t      \t\t\t\t\tif (j == 0) {\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: this.mainList.length,\n\t\t\t\t                    colspan: 1\n\t\t\t\t                  }\n\t\t\t\t                } else if (j != 0) {//1   不合并的\n\t\t\t\t                  return {\n\t\t\t\t                    rowspan: 0,\n\t\t\t\t                    colspan: 0\n\t\t\t\t                  }\n\t\t\t\t                }\n\t\t      \t\t\t\t}\n\t\t      \t\t\t}\n\t\t\t        }\n\t      \t\t}\n\t      \t},\n\t\t\t//自定义表头\n\t\t\trenderHeader(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '奖励商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods({})}\n\t\t         \t\t}\n\t\t         \t},'添加奖励商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n      renderHeader1(h) {\n\t\t        return h('div',[\n\t\t         \th('span', '需回款商品'),\n\t\t         \th('el-button', {\n\t\t         \t\t'class':['el-button--small'],\n\t\t         \t\ton:{\n\t\t         \t\t\tclick: ()=>{this.selectAwardGoods(null , 'mulAwardGoods')}\n\t\t         \t\t}\n\t\t         \t},'添加需回款商品')\n\t\t         ]\n\n\t\t        )\n\t\t   \t},\n\n      //删除回款奖励商品\n      delItem(params){\n        if(params.handleType == 1){//删除需回款商品\n          this.mainList = this.mainList.filter(p=>p.goodsIdm!=params.goodId)\n          this.goodsIdm = this.goodsIdm.filter(p=>p!=params.goodId)\n        }\n        if(params.handleType == 2){//删除奖励商品\n          this.subList = this.subList.filter(p=>p.goodsId!=params.goodId)\n          this.goodsId = this.goodsId.filter(p=>p!=params.goodId)\n        }\n        this.ruleForm.userId = [];//清空使用范围\n      },\n      //删除政策回款商品\n      deleScopeRow(goodsId){\n        this.ruleForm.tableData1 = this.ruleForm.tableData1.filter(p=>p.goodsId!=goodsId);\n        this.goodsId = this.goodsId.filter(p=>p!=goodsId);\n        this.ruleForm.userId = [];//清空使用范围\n      },\n\t\t   \t//选择政策--重新赋值\n\t\t\tpolicyChange(val){\n\t\t\t\tthis.policyType= val;\n\t\t\t\tthis.awardGoods='hide';//商品列表隐藏\n        this.isHuiKuan=false;//商品列表隐藏\n\t\t\t\tthis.mainList = [];\n\t\t\t\tthis.subList = [];\n\t\t\t\tthis.goodsIdm = [];//主品id\n\t\t\t\tthis.goodsId = [];//奖励商品id\n        this.ruleForm.tableData1 = [];\n\t\t\t\tthis.tableData=[{goodsNamem:\"\",specsMaxm:\"\"}];\n        this.ruleForm.userId = [];//清空使用范围\n\t\t\t},\n\t\t\t //点击事业部\n\t\t\tselectSuccess(val){\n\t\t\t\tthis.ruleForm.departmentId = val;\n\t\t\t\tthis.awardGoods='hide';//商品列表隐藏\n        this.isHuiKuan = false;\n\t\t\t\tthis.mainList = [];\n\t\t\t\tthis.subList = [];\n\t\t\t\tthis.goodsIdm = [];//主品id\n\t\t\t\tthis.goodsId = [];//奖励商品id\n        this.ruleForm.tableData1 = [];\n\t\t\t\tthis.tableData=[{goodsNamem:\"\",specsMaxm:\"\"}];\n\t\t\t},\n\t\t\t//适用范围\n\t\t\tsetRange(){\n        if(this.goodsId.length==0){\n          this.$message.success(\"请先选择回款商品\");\n        }else{\n          let datalist = {\n            departmentId: this.ruleForm.departmentId,\n            goodsId: this.goodsId.toString(),\n            goodsIdm: this.goodsIdm.toString(),\n            policyType: this.policyType\n          };\n\n          getRangeProvince(datalist).then( res => {\n            this.ruleForm.rangeList = res.data.data;\n          });\n          this.$refs.dialogSeleProMa.dialogShow();\n        }\n\t\t\t},\n\t\t\t//关闭商品弹窗\n\t\t\tcloseGoodsDiolog(){\n\t\t\t\tthis.dialogSeleGoodsVisible =false;\n\t\t\t},\n\t\t\t//关闭适用范围弹窗\n\t\t\tcloseDiolog(){\n\t\t\t\tthis.dialogRangeVisible =false;\n\t\t\t},\n\n\t\t\t//点击分页\n\t\t\tupdataPage(val){\n        this.pageSize = val.pageSize;\n        this.pageIndex = val.pageIndex;\n\t\t\t\tlet datalist=this.getsearchInfo(this.pageIndex,this.pageSize);\n\t\t\t\tthis.initData(datalist)\n\t\t\t},\n\t    \t//设置适用范围\n      setProvMange(val){\n        this.ruleForm.userId = [];\n        val.forEach(p => {\n          this.ruleForm.userId.push(p.userId);\n        })\n      },\n\t    \t//保存按钮\n      saveAddPolGoods(){\n          if(this.ruleForm.policyType==''){\n\t    \t\t\tthis.$message.success(\"请选择政策类型\")\n\t    \t\t\treturn false;\n\t    \t\t}else if(this.ruleForm.title.trim()==''){\n            this.$message.success(\"请输入政策名称\")\n            return false;\n          }else if(this.ruleForm.policyType==2&&this.ruleForm.policyTypeCheck==''){\n\t    \t\t\tthis.$message.success(\"请选择政策子类型\")\n\t    \t\t\treturn false;\n\t    \t\t}else if(this.ruleForm.policyStartDate==''||this.ruleForm.policyEndDate == ''){\n\t    \t\t\tthis.$message.success(\"请选择政策有效期\")\n\t    \t\t\treturn false;\n\t    \t\t}else if(this.ruleForm.departmentId==''){\n\t    \t\t\tthis.$message.success(\"请选择事业部\")\n\t    \t\t\treturn false;\n\t    \t\t}\n\t    \t\tlet policyRule=[];\n\t    \t\tlet isSubmit = false;\n          if(this.ruleForm.policyType==2){//奖励政策\n            if(this.ruleForm.tableData1.length>0){\n              let obj = {};\n              let _num = 0;\n              const _arr = this.ruleForm.tableData1.slice();\n              _arr.reverse().forEach(p=>{\n                if(p.awardNum.trim().length>0&&p.afterDiscountPrice.trim().length>0){\n                  _num+=1;\n                  obj = {\n                    \"goodsId\":p.goodsId //商品id\n                    ,\"awardNum\":p.awardNum//奖励数量，必填\n                    ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                    ,\"batchNumber\":p.batchNumber   //指定批号\n                  }\n                  policyRule.push(obj);\n                }else{\n                  if(p.awardNum.trim().length==0){\n                    this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                    isSubmit = false;\n                    return false;\n                  }else if(p.afterDiscountPrice.trim().length==0){\n                    this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                    isSubmit = false;\n                    return false;\n                  }\n                }\n              })\n              if(_num == this.ruleForm.tableData1.length){\n                isSubmit = true;\n              }else{\n                isSubmit = false;\n              }\n            }else{\n              this.$message.success(\"请完善政策规则\");\n              isSubmit = false;\n              return false;\n            }\n          }else{//回款奖励\n            const mainArray = [];\n            const subArray = [];\n            if(this.mainList.length==0){\n              this.$message.success(\"请添加需回款的商品\")\n              isSubmit = false;\n              return false;\n            }else{\n              const mainArr = this.mainList.slice();\n              let obj = {};\n              let _num = 0;\n              mainArr.reverse().forEach(p=>{\n                if(p.collectionNum.trim().length>0){\n                  _num += 1;\n                  obj = {\n                    \"goodsId\":p.goodsIdm//商品id\n                    ,\"collectionNum\": p.collectionNum//回款数量\n                   }\n                  mainArray.push(obj)\n                }else{\n                  if(p.collectionNum.trim().length==0){\n                    this.$message.success(\"请输入【\"+p.goodsNamem+\"】的回款商品数量\")\n                    isSubmit = false;\n                    return false;\n                  }\n                }\n              })\n              if(_num == this.mainList.length){\n                isSubmit = true;\n              }else{\n                isSubmit = false;\n              }\n            }\n            if(isSubmit){\n              if(this.subList.length==0){\n                this.$message.success(\"请添加奖励的商品\")\n                isSubmit = false;\n                return false;\n              }else{\n                const subArr = this.subList.slice();\n                let obj = {};\n                let _num = 0;\n                subArr.reverse().forEach(p=>{\n                  if(p.awardNum.trim().length>0&&p.afterDiscountPrice.trim().length>0){\n                    _num += 1;\n                    obj = {\n                      \"goodsId\":p.goodsId  //商品id\n                      ,\"awardNum\":p.awardNum //奖励数量，必填\n                      ,\"discountPrice\":p.afterDiscountPrice //折后价,必填\n                      ,\"batchNumber\":p.batchNumber    //指定批号\n                    }\n                    subArray.push(obj)\n                  }else{\n                    if(p.awardNum.trim().length==0){\n                      this.$message.success(\"请输入【\"+p.goodsName+\"】的奖励数量\")\n                      isSubmit = false;\n                      return false;\n                    }else if(p.afterDiscountPrice.trim().length==0){\n                      this.$message.success(\"请输入【\"+p.goodsName+\"】的折后价\")\n                      isSubmit = false;\n                      return false;\n                    }\n                  }\n                })\n                if(_num == this.subList.length){\n                  isSubmit = true;\n                }else{\n                  isSubmit = false;\n                }\n              }\n              policyRule = {\n                \"mainArray\":mainArray\n                ,\"subArray\":subArray\n              }\n            }\n          }\n          if(isSubmit&&this.ruleForm.userId.length==''){\n            this.$message.success(\"请设置适用范围\");\n            isSubmit = false;\n            return false;\n          }\n          if(isSubmit){\n            let datalist = {\n              policyType: this.ruleForm.policyType,//政策类型\n              policyStartDate: this.ruleForm.policyStartDate,//政策有效期\n              policyEndDate: this.ruleForm.policyEndDate,//政策有效期\n              title: this.ruleForm.title,//政策名称\n              verificationStartDate: this.ruleForm.verificationStartDate,//核销起始时间\n              verificationEndDate: this.ruleForm.verificationEndDate,//核销结束时间\n              departmentId: this.ruleForm.departmentId,//事业部\n              remark: this.ruleForm.remark,//政策说明\n              policyRule: JSON.stringify(policyRule),\n              policyRange: this.ruleForm.userId.toString(),\n              policyTypeCheck:this.ruleForm.policyTypeCheck,//政策子类型\n            }\n            savePolGoods(datalist).then( res =>{\n                if(res.data.code == 1){\n                    this.$router.go(-1);\n                }else{\n                  this.$message.success(res.data.msg);\n                }\n            })\n          }\n\t    \t}\n\t    }\n  \t}\n</script>\n<style type=\"text/css\">\n\t.el-form--inline .el-form-item__content{\n\t\tvertical-align: middle;\n\t}\n</style>\n<style lang=\"scss\" scoped=\"scoped\">\n\t.containInfo_wraper {\n\t\tmargin: 20px 30px;\n\t\tbackground: #ffff;\n\t\tborder: 1px solid #e6e6e6;\n\t\toverflow: hidden;\n\t\t.detail_title {\n\t\t\tpadding: 0 20px;\n\t\t\tline-height: 50px;\n\t\t\tcolor: #1f5dbc;\n\t\t\tfont-size: 14px;\n\t\t\t.line_Icon {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 4px;\n\t\t\t\theight: 14px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-right: 5px;\n\t\t\t\tborder-radius: 20%;\n\t\t\t\tbackground: #1f5dbc;\n\t\t\t}\n\t\t\tborder-bottom:1px solid #e6e6e6;\n\t\t}\n\t\t.detail_content {\n\t\t\tpadding: 20px 29px 20px;\n\t\t\tline-height: 49px;\n\t\t\tfont-size: 14px;\n\t\t\t.poliyMark{\n\t\t\t\tborder:1px solid #e6e6e6;\n\t\t\t\tborder-radius:5px;\n\t\t\t\twidth:85%;\n\t\t\t\theight:70px;\n\t\t\t\tvertical-align: middle;\n\t\t\t\tmargin-left:20px;\n\t\t\t\tpadding:10px;\n\t\t\t\tline-height:26px;\n        resize:none\n\t\t\t}\n\n\t\t}\n\t\t.table_wrap{\n\t\t\tmargin-top: 0;\n\t\t\tborder: none;\n\t\t\tpadding:20px 39px;\n\t\t\t.tableInput{\n\t\t\t    border-radius: 4px;\n\t\t\t    border: 1px solid #dcdfe6;\n\t\t\t    box-sizing: border-box;\n\t\t\t    height: 40px;\n\t\t\t    line-height: 40px;\n\t\t\t    padding: 0 15px;\n\t\t\t    width: 60%;\n\n\t\t\t}\n\t\t}\n\t\t.detail_table{\n\t\t\tpadding:20px 39px;\n\t\t}\n\t\t.viewRemark{\n\t\t\tmargin-left:10px;\n\t\t\tcolor : #1f5dbc;\n\t\t\tfont-size:14px;\n\t\t}\n\t}\n\t.operateWraper {\n\t\tmargin: 20px;\n\t\ttext-align: center;\n\t\t.el-button-red {\n\t\t\tpadding: 0 0.5rem;\n\t\t}\n\n\t}\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/headquarter/marketManage/add_promoPolicy.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create_wraper\"},[_c('go-back',{attrs:{\"title\":\"新增促销政策\"}}),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-form-inline\",attrs:{\"model\":_vm.ruleForm,\"inline\":true,\"label-width\":\"100px\"}},[_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"基本信息：\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_content\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\"is-required\",attrs:{\"label\":\"政策类型：\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择政策类型\"},on:{\"change\":_vm.policyChange},model:{value:(_vm.ruleForm.policyType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"policyType\", $$v)},expression:\"ruleForm.policyType\"}},[_c('el-option',{key:\"1\",attrs:{\"label\":\"奖励政策\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{key:\"2\",attrs:{\"label\":\"回款奖励\",\"value\":\"3\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('el-form-item',{staticClass:\" is-required\",attrs:{\"label\":\"政策名称：\"}},[_c('el-input',{attrs:{\"maxlength\":\"100\",\"placeholder\":\"请输入政策名称\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策有效期：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\"},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'policyValidDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('depart-componet',{attrs:{\"departMsg\":\"事业部：\"},on:{\"selectSuccess\":_vm.selectSuccess}})],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":10}},[_c('div',{staticClass:\"div-inline el-form-item\"},[_c('div',{staticClass:\"div-inline\"},[_vm._v(\"核销期间：\")]),_vm._v(\" \"),_c('datepicker',{staticClass:\"div-inline\",attrs:{\"startIsShow\":\"true\",\"endIsShow\":\"true\"},on:{\"changeSelect\":function (value) { return _vm.changeSelect(value, 'verifyDate'); }}})],1)]),_vm._v(\" \"),_c('el-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.ruleForm.policyType == 2),expression:\"ruleForm.policyType == 2\"}],attrs:{\"span\":7}},[_c('div',{staticClass:\"div-inline el-form-item is-required\"},[_c('div',{staticClass:\"div-inline el-form-item__label\"},[_vm._v(\"政策子类型：\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"placeholder\":\"请选择政策子类型\"},model:{value:(_vm.ruleForm.policyTypeCheck),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"policyTypeCheck\", $$v)},expression:\"ruleForm.policyTypeCheck\"}},[_c('el-option',{attrs:{\"label\":\"请选择政策子类型\",\"value\":\"\"}}),_vm._v(\" \"),_c('el-option',{key:\"1\",attrs:{\"label\":\"人员变动\",\"value\":\"1\"}}),_vm._v(\" \"),_c('el-option',{key:\"2\",attrs:{\"label\":\"库存处理\",\"value\":\"2\"}}),_vm._v(\" \"),_c('el-option',{key:\"3\",attrs:{\"label\":\"纯回款奖励\",\"value\":\"3\"}}),_vm._v(\" \"),_c('el-option',{key:\"4\",attrs:{\"label\":\"会议奖励\",\"value\":\"4\"}})],1)],1)])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_vm._v(\"政策说明:\"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ruleForm.remark),expression:\"ruleForm.remark\"}],staticClass:\"poliyMark\",attrs:{\"maxlength\":\"500\",\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.ruleForm.remark)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.ruleForm, \"remark\", $event.target.value)}}})])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"政策规则\")]),_vm._v(\" \"),_c('div',{staticClass:\"table_wrap\"},[_c('select-goods',{ref:\"dialogSeleGoods\",attrs:{\"title\":\"选择商品\",\"goodsList\":_vm.goodsList,\"policyType\":_vm.policyType,\"isradio\":_vm.isradio},on:{\"getGoodsList\":_vm.getGoodsList,\"selectAwardGoods\":_vm.selectAwardGoods,\"closeGoodsDiolog\":_vm.closeGoodsDiolog,\"uploadData\":_vm.uploadData}}),_vm._v(\" \"),(_vm.awardGoods=='hide')?_c('div',{staticClass:\"viewRemark\",on:{\"click\":_vm.selectAwardGoods}},[_vm._v(\"请选择需回款商品\")]):_vm._e(),_vm._v(\" \"),(_vm.awardGoods=='show')?_c('div',[(_vm.ruleForm.policyType==2)?_c('el-table',{attrs:{\"data\":_vm.ruleForm.tableData1,\"border\":\"\",\"tooltip-effect\":\"dark\"}},[_c('el-table-column',{attrs:{\"render-header\":_vm.renderHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.goodsName)),_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.deleScopeRow(scope.row.goodsId)}}},[_vm._v(\"删除\")])]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.specsMax))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"awardNum\",\"label\":\"奖励数量\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.awardNum),expression:\"scope.row.awardNum\"},{name:\"vue-onkeypress\",rawName:\"v-vue-onkeypress\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>8)value=value.slice(0,8)\"},domProps:{\"value\":(scope.row.awardNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"awardNum\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"afterDiscountPrice\",\"label\":\"折后价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.afterDiscountPrice),expression:\"scope.row.afterDiscountPrice\"}],staticClass:\"tableInput\",attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>8)value=value.slice(0,8)\"},domProps:{\"value\":(scope.row.afterDiscountPrice)},on:{\"keydown\":_vm.handleInput2,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"afterDiscountPrice\", $event.target.value)}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"batchNumber\",\"label\":\"指定批号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row.batchNumber),expression:\"scope.row.batchNumber\"}],staticClass:\"tableInput\",attrs:{\"maxlength\":\"100\"},domProps:{\"value\":(scope.row.batchNumber)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"batchNumber\", $event.target.value)}}})]}}])})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isHuiKuan)?[_c('mainTable',{attrs:{\"items\":_vm.mainList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}}),_vm._v(\" \"),_c('subTable',{attrs:{\"items\":_vm.subList},on:{\"selectAwardGoods\":_vm.selectAwardGoods,\"delItem\":_vm.delItem}})]:_vm._e()],2)]),_vm._v(\" \"),_c('div',{staticClass:\"containInfo_wraper\"},[_c('div',{staticClass:\"detail_title\"},[_c('i',{staticClass:\"line_Icon\"}),_vm._v(\"适用范围\")]),_vm._v(\" \"),_c('div',{staticClass:\"detail_table\"},[_c('span',{staticClass:\"viewRemark\",on:{\"click\":function($event){_vm.setRange()}}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('releaseRange',{ref:\"dialogSeleProMa\",attrs:{\"isView\":false,\"dialogRangeVisible\":_vm.dialogRangeVisible,\"relRangeList\":_vm.ruleForm.rangeList,\"title\":\"发布范围\"},on:{\"setProvMange\":_vm.setProvMange}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"operateWraper\"},[_c('div',{staticClass:\"div-inline el-button-red\",on:{\"click\":_vm.saveAddPolGoods}},[_vm._v(\"保存\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-424cb4d4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/headquarter/marketManage/add_promoPolicy.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-424cb4d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./add_promoPolicy.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-424cb4d4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./add_promoPolicy.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_promoPolicy.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./add_promoPolicy.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-424cb4d4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./add_promoPolicy.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-424cb4d4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/headquarter/marketManage/add_promoPolicy.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}