webpackJsonp([15],{KuNT:function(t,e){},VDSY:function(t,e){},Ykj5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("XH94"),n=a("zY1m"),i=a("gFbb"),s=a("a9+l"),l=a("scQI"),c=a("ncc6"),r={data:function(){return{startDate:"",endDate:"",provinceManager:"",provinceName:"",departmentId:"",collectionWay:"",collectionWayList:{1:"商业公司回款",2:"个人回款"},tableData:[],totalRecords:0,totalPageCnt:0,pageIndex:1,pageSize:10,pagin_show:!0,promptMsg:"",rejectReason:"",dialogCheckVisible:!1,radioActive:"",checkReason:"",goodsId:""}},created:function(){var t=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(t)},components:{departComponet:o.a,elPagination:s.a,addressPlugin:i.a,datepicker:n.a,promptDialog:l.a},methods:{initData:function(t){var e=this;console.log(t),Object(c.c)(t).then(function(t){var a=t.data.data;a.dataList.length>0?(e.totalRecords=a.totalRecords,e.totalPageCnt=a.totalPageCnt,e.pageIndex=a.pageIndex,e.tableData=a.dataList,e.pagin_show=!0):(e.tableData=[],e.pagin_show=!1)})},getsearchInfo:function(t,e){return{pageIndex:t,pageSize:e,startDate:this.startDate,endDate:this.endDate,provinceManager:this.provinceManager,collectionWay:"-1"==this.collectionWay?"":this.collectionWay,provinceName:this.provinceName,departmentId:this.departmentId}},changeSelect:function(t){"startDate"==t.type?this.startDate=t.data:this.endDate=t.data},toInquire:function(){var t=this.getsearchInfo(1,this.pageSize);this.initData(t)},exportBaseInfoData:function(){var t={startDate:this.startDate,endDate:this.endDate,provinceManager:this.provinceManager,collectionWay:"-1"==this.collectionWay?"":this.collectionWay,provinceName:this.provinceName,departmentId:this.departmentId};Object(c.a)(t).then(function(t){var e=(new Date).getTime()+".xls",a=new Blob([t.data]),o=document.createElement("a");o.download=e,o.style.display="none",o.href=URL.createObjectURL(a),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)})},toCheck:function(t){console.log(t),this.dialogCheckVisible=!0,this.goodsId=t},checkPass:function(){var t=this,e={flag:this.radioActive,ordersCollectionId:this.goodsId,rejectReason:this.checkReason};Object(c.e)(e).then(function(e){t.$message.success("审核成功"),t.dialogCheckVisible=!1;var a=t.getsearchInfo(t.pageIndex,t.pageSize);t.initData(a)})},reasonRefuse:function(t){var e=this;this.$refs.reaRefuseDialog.dialogShow(),Object(c.d)({ordersCollectionId:t}).then(function(t){e.promptMsg=t.data.data.rejectReason})},selectSuccess:function(t){this.departmentId=t,console.log(this.departmentId)},updataPage:function(t){this.pageIndex=t.pageIndex,this.pageSize=t.pageSize;var e=this.getsearchInfo(this.pageIndex,this.pageSize);this.initData(e)},view:function(t){this.$router.push({path:"/provinceRetuenMoneyDetailZB",query:{id:t}})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search_wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"省区经理："}},[a("el-input",{attrs:{placeholder:"请输入省区经理名称"},model:{value:t.provinceManager,callback:function(e){t.provinceManager=e},expression:"provinceManager"}})],1),t._v(" "),a("div",{staticClass:"div-inline el-form-item"},[a("depart-componet",{attrs:{departMsg:"事业部："},on:{selectSuccess:t.selectSuccess}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属省区："}},[a("el-input",{attrs:{placeholder:"请输入省区"},model:{value:t.provinceName,callback:function(e){t.provinceName=e},expression:"provinceName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"回款方式："}},[a("el-select",{attrs:{placeholder:"请选择回款方式"},model:{value:t.collectionWay,callback:function(e){t.collectionWay=e},expression:"collectionWay"}},[a("el-option",{attrs:{label:"全部",value:"-1"}},[t._v("全部")]),t._v(" "),t._l(t.collectionWayList,function(t,e,o){return a("el-option",{key:o,attrs:{label:t,value:e}})})],2)],1),t._v(" "),a("div",{staticClass:"div-inline el-form-item"},[a("div",{staticClass:"div-inline"},[t._v("回款时间：")]),t._v(" "),a("datepicker",{staticClass:"div-inline",attrs:{startIsShow:"true",endIsShow:"true"},on:{changeSelect:t.changeSelect}})],1),t._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:function(e){t.toInquire()}}},[t._v("查询")]),t._v(" "),a("div",{staticClass:"div-inline el-button-red",on:{click:t.exportBaseInfoData}},[t._v("导出")])],1)],1),t._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{ref:"multipleTable",attrs:{data:t.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"createDate",label:"回款时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"departmentId",label:"事业部",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t        "+t._s(1==e.row.departmentId?"心脑事业部":2==e.row.departmentId?"风湿及骨科事业部":3==e.row.departmentId?"云事业部":"消化事业部")+"\n\t\t\t\t    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"provinceName",label:"所属省区"}}),t._v(" "),a("el-table-column",{attrs:{prop:"provinceManager",label:"省区经理"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"回款方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(1==e.row.collectionWay?"商业公司回款":2==e.row.collectionWay?"个人回款":""))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"billName",label:"回款商业"}}),t._v(" "),a("el-table-column",{attrs:{prop:"actualCollectionPrice",label:"回款金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"collectionType",label:"回款类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t        "+t._s(1==e.row.collectionType?"货款":"")+"\n\t\t\t\t    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"回款证明"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.imgsList,function(t,e){return a("div",{key:e,staticClass:"returnProve"},[a("img",{attrs:{src:t,alt:""}})])})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t        "+t._s(0==e.row.status?"待审核":1==e.row.status?"审核通过":"已驳回")+"\n\t\t\t\t    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.status?a("div",{staticClass:"operateBtn",on:{click:function(a){t.toCheck(e.row.id)}}},[t._v("审核")]):t._e(),t._v(" "),1==e.row.status?a("div",[t._v("已审核")]):t._e(),t._v(" "),2==e.row.status?a("div",{staticClass:"operateBtn",on:{click:function(a){t.reasonRefuse(e.row.id)}}},[t._v("驳回原因")]):t._e(),t._v(" "),a("div",{staticClass:"operateBtn",on:{click:function(a){t.view(e.row.id)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{pageIndex:t.pageIndex,pageSize:t.pageSize,totalRecords:t.totalRecords,totalPageCnt:t.totalPageCnt,pagin_show:t.pagin_show},on:{clickpage:t.updataPage}})],1),t._v(" "),a("promptDialog",{ref:"reaRefuseDialog",attrs:{promptMsg:t.promptMsg}}),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogCheckVisible,"append-to-body":!0,width:"35%"},on:{"update:visible":function(e){t.dialogCheckVisible=e}}},[a("div",{staticClass:"dialog_body_content"},[a("div",{staticClass:"checkResult"},[t._v("\n\t\t\t\t\t审核结果：\n\t\t\t\t\t"),a("el-radio-group",{staticClass:"selectRadio",model:{value:t.radioActive,callback:function(e){t.radioActive=e},expression:"radioActive"}},[a("el-radio",{attrs:{label:1}},[t._v("通过")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("不通过")])],1)],1),t._v(" "),2==t.radioActive?a("div",{staticClass:"checkFail"},[t._v("\n\t\t\t\t\t审核原因：\n\t\t\t\t\t"),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkReason,expression:"checkReason"}],staticClass:"checkReason",attrs:{name:"",id:"",cols:"30",rows:"10"},domProps:{value:t.checkReason},on:{input:function(e){e.target.composing||(t.checkReason=e.target.value)}}})]):t._e()]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("span",{staticClass:"dialog-cancel-btn dialoperateBtn",on:{click:function(e){t.dialogPWDVisible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:""==t.radioActive||2==t.radioActive&&""==t.checkReason,expression:"radioActive=='' || radioActive==2 && checkReason==''"}],staticClass:"dialogDisaBtn",attrs:{type:"danger",disabled:""}},[t._v("确定")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.radioActive||2==t.radioActive&&""!=t.checkReason,expression:"radioActive==1 || radioActive==2 && checkReason!=''"}],staticClass:"dialog-sure-btn dialoperateBtn",on:{click:function(e){t.checkPass()}}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var p=a("C7Lr")(r,d,!1,function(t){a("VDSY"),a("KuNT")},"data-v-36f1a0d5",null);e.default=p.exports},ncc6:function(t,e,a){"use strict";a.d(e,"c",function(){return s}),a.d(e,"a",function(){return l}),a.d(e,"e",function(){return c}),a.d(e,"d",function(){return r}),a.d(e,"b",function(){return d});var o=a("lta2"),n=a("6iV/"),i=a.n(n),s=function(t){return o.a.post(o.a.baseURL+"collection/list",i.a.stringify(t))},l=function(t){return o.a.post(o.a.baseURL+"collection/excel",i.a.stringify(t),{responseType:"blob"})},c=function(t){return o.a.post(o.a.baseURL+"collection/check",i.a.stringify(t))},r=function(t){return o.a.post(o.a.baseURL+"collection/reject",i.a.stringify(t))},d=function(t){return o.a.post(o.a.baseURL+"collection/detail",i.a.stringify(t))}}});
//# sourceMappingURL=15.815818800a4fe633f097.js.map