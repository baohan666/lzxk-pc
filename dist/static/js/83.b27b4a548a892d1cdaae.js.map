{"version":3,"sources":["webpack:///src/pages/headquarter/goodsManage/batChangePrice.vue","webpack:///./src/pages/headquarter/goodsManage/batChangePrice.vue?3a53","webpack:///./src/pages/headquarter/goodsManage/batChangePrice.vue"],"names":["batChangePrice","name","data","pricenum","areaName","areaManager","position","userId","managerUserId","tableData","goodsName","changPriLogData","priceInfo","obj","changPriceNum","changeReason","dialogReasonVisible","created","this","initData","components","goBack","changePriceLog","methods","_this","Object","goodsManage","areaCode","$route","query","priceId","then","res","goodsList","submitChangePrice","_this2","arrayListStr","datalist","stringify_default","cache","console","log","$router","go","handleChange","dataRow","type","oldPrice","newPrice","provincePrice","oldProvincePrice","cityPrice","oldCityPrice","fewPrice","priceType","push","length","handleInput2","e","target","value","match","changePartPrice","$id","$managerUserId","path","goodsId","managerId","searchCity","searchCounty","showChangePriceLog","$position","$goodsId","_this3","logType","pageIndex","pageSize","$refs","dialogShow","goodsManage_batChangePrice","render","_vm","_h","$createElement","_c","_self","attrs","title","_v","staticClass","gutter","_s","ref","border","tooltip-effect","max-height","prop","label","scopedSlots","_u","key","fn","scope","directives","rawName","row","expression","modifiers","trim","class","tableInput","color_red","fixedPrice","color_blue","domProps","on","change","$event","keydown","input","composing","$set","blur","$forceUpdate","click","visible","append-to-body","width","update:visible","placeholder","id","cols","rows","slot","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/83.b27b4a548a892d1cdaae.js","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<go-back title=\"改价\"></go-back>\r\n\t\t<div class=\"infoDetail\">\r\n\t\t\t<el-row :gutter=\"20\">\r\n\t\t\t\t<span>{{areaName}}</span>\r\n\t\t\t\t<span>{{areaManager}}</span>\r\n\t\t\t\t<span>{{position}}</span>\r\n\t\t\t</el-row>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"table_wrap\">\r\n\t\t\t<el-table ref=\"multipleTable\" :data=\"tableData\" border tooltip-effect=\"dark\" max-height=\"530\">\r\n\t\t\t    <el-table-column prop=\"goodsName\" label=\"商品名称\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"specsMax\" label=\"规格\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"manufacturer\" label=\"生产企业\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"drugType\" label=\"剂型\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"standPrice\" label=\"公司标准价\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"fixedPrice\" label=\"省区定价\"></el-table-column>\r\n\t\t\t    <el-table-column prop=\"fewPrice\" label=\"价格\">\r\n\t\t\t    \t<template slot-scope=\"scope\">\r\n\t\t\t\t\t    <input v-model.trim=\"scope.row.fewPrice\" @change=\"handleChange(scope.row,'fewPrice')\" type=\"number\" @keydown=\"handleInput2\" :class=\"{'tableInput': true, 'color_red' : scope.row.fixedPrice < scope.row.fewPrice, 'color_blue' : scope.row.fixedPrice > scope.row.fewPrice}\"></input>\r\n\t\t\t\t\t</template>\r\n\t\t\t    </el-table-column>\r\n\t\t\t    <el-table-column prop=\"address\" label=\"操作\">\r\n\t\t\t    \t<template slot-scope=\"scope\">\r\n\t\t\t\t        <div class=\"operateBtn\" @click=\"showChangePriceLog(scope.row.priceId, scope.row.position, scope.row.goodsId)\">改价日志</div>\r\n\t\t\t\t    </template>\r\n\t\t\t    </el-table-column>\r\n\t\t  \t</el-table>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"operateWraper\">\r\n\t\t\t<div class=\"div-inline el-button-red\" v-show=\"changPriceNum>0\" @click = \"dialogReasonVisible=true\">提交改价</div>\r\n\t\t</div>\r\n\t\t<changePriceLog ref=\"changePriceLog\" :changPriLogData=\"changPriLogData\"></changePriceLog>\r\n\t\t<el-dialog title=\"改价原因\" :visible.sync=\"dialogReasonVisible\" :append-to-body='true' width=\"35%\">\r\n\t\t\t<div class= 'dialog_body_content'>\r\n\t\t\t\t<div class=\"dialog_changePrice_reason\">\r\n\t\t\t\t\t改价原因：\r\n\t\t\t\t\t<textarea class=\"checkReason\" placeholder=\"请填写改价原因\" v-model=\"changeReason\" name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\r\n    \t\t\t<el-button v-show=\"changeReason==''\" type=\"danger\" class=\"dialogDisaBtn\" disabled>确定</el-button>\r\n\t\t\t\t<span v-show=\"changeReason!=''\" class=\"dialog-sure-btn dialoperateBtn\" @click=\"submitChangePrice()\">确定</span>\r\n\t\t\t</div>\r\n\t\t</el-dialog>\r\n\t</div>\r\n\r\n</template>\r\n<script>\r\n\timport goBack from 'src/components/goBack';\r\n\timport changePriceLog from 'src/components/changePriceLog';\r\n\timport {getStore} from 'src/config/cache'\r\n\r\n\r\n  \timport {getBatchChaPriceData, getChangePriceLogData, saveBatchChaPriceData} from 'src/api/headquarter_url/goodsManage';\r\n\r\n  export default {\r\n  \tname : 'detailFeedbackZB',\r\n    data() {\r\n      \treturn {\r\n      \t\tpricenum:212,\r\n      \t\tareaName:'',//地区名称\r\n       \t\tareaManager:'',//经理名称\r\n       \t\tposition:'',//职务\r\n       \t\tuserId:'',//\r\n       \t\tmanagerUserId:\"\",//jingli ID\r\n       \t\ttableData: [],\t//数据列表\r\n       \t\tgoodsName: '',//省区经理及省区名称\r\n       \t\tchangPriLogData:[],//改价日志数据\r\n       \t\tpriceInfo: [],//改价数据集合\r\n          obj:{},\r\n       \t\tchangPriceNum:0,\r\n       \t\tchangeReason: '',//改价原因\r\n       \t\tdialogReasonVisible: false\r\n      \t}\r\n    },\r\n    created(){\r\n\t\tthis.initData()\r\n\t},\r\n\tcomponents:{\r\n\t\tgoBack,\r\n\t    changePriceLog\r\n\t},\r\n    methods: {\r\n        initData(){\r\n\t        getBatchChaPriceData({\"areaCode\": this.$route.query.areaCode, \"priceId\": this.$route.query.priceId}).then(res => {\r\n\t\t\t\tthis.areaName=res.data.data.areaName;\r\n\t\t\t\tthis.areaManager=res.data.data.areaManager;\r\n\t\t\t\tthis.position=res.data.data.position;\r\n\t\t\t\tthis.managerUserId=res.data.data.managerUserId;\r\n\t\t\t\tthis.tableData =res.data.data.goodsList;\r\n\t\t\t\tthis.userId = res.data.data.userId;\r\n\t        })\r\n\t\t},\r\n\t\t//提交改价\r\n\t\tsubmitChangePrice(){\r\n\t\t\tlet arrayListStr={\"priceInfo\": this.priceInfo, \"changeReason\":this.changeReason, userId : this.userId};\r\n\t\t\tlet datalist = {\r\n\t\t\t\t\"arrayListStr\": JSON.stringify(arrayListStr),\r\n\t\t\t\t\"changeReason\":this.changeReason,\r\n\t\t\t\t\"userId\":getStore('accountId'),\r\n\t\t\t}\r\n\t\t\tconsole.log(datalist);\r\n\t\t\tsaveBatchChaPriceData(datalist).then( res =>{\r\n\t\t\t\tthis.$router.go(-1);\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleChange(dataRow, type){\r\n\t\t\t//priceType表示1.公司定价-省区2.省区定价-地区、3.省区定价-县区、4.地区价、5.县区价\r\n\t\t\tlet priceType=1;\r\n\t\t\tlet oldPrice=1;\r\n\t\t\tlet newPrice=1;\r\n\t\t\tif(type == \"provincePrice\"){\r\n\t\t\t\tnewPrice = dataRow.provincePrice;\r\n\t\t\t\toldPrice = dataRow.oldProvincePrice;//老价格\r\n\t\t\t\tpriceType = 1 ;\r\n\t\t\t}else if(type == \"cityPrice\"){\r\n\t\t\t\tnewPrice = dataRow.cityPrice;\r\n\t\t\t\toldPrice = dataRow.oldCityPrice;//老价格\r\n\t\t\t\tpriceType = 2 ;\r\n\t\t\t}else{\r\n\t\t\t\tnewPrice = dataRow.fewPrice;\r\n\t\t\t\t// oldPrice = dataRow.oldCountyPrice;//老价格\r\n\t\t\t\toldPrice = dataRow.oldPrice;//老价格\r\n\t\t\t\tpriceType = 3 ;\r\n\t\t\t}\r\n\t\t\tif(newPrice == \"oldPrice\"){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tlet priceInfo = {\r\n\t\t\t\t\"priceId\" : dataRow.priceId,// 省地县\r\n\t\t\t\t\"newPrice\" : newPrice , // 新价格\r\n        \"oldPrice\" : oldPrice ,  // 老价格\r\n        \"userId\":this.userId\r\n\t\t\t};\r\n      this.priceInfo=[];\r\n      if (priceInfo.userId in this.obj) {\r\n        console.log(this.obj);\r\n        console.log(priceInfo.userId);\r\n        console.log(this.obj[priceInfo.userId]);\r\n        if (priceInfo.priceType==1){\r\n          this.obj[priceInfo.userId][0] = priceInfo;\r\n        }else if (priceInfo.priceType==2){\r\n          this.obj[priceInfo.userId][1] = priceInfo;\r\n        } else if (priceInfo.priceType==3){\r\n          this.obj[priceInfo.userId][2] = priceInfo;\r\n        }\r\n      }else{\r\n        this.obj[priceInfo.userId]=[];\r\n        this.obj[priceInfo.userId][0]=priceInfo;\r\n        console.log(this.obj)\r\n      }\r\n      this.priceInfo.push(this.obj);\r\n      this.changPriceNum = this.priceInfo.length;\r\n\t\t\tconsole.log(this.priceInfo);\r\n\t\t},\r\n\t\thandleInput2(e) {\r\n            // 通过正则过滤小数点后两位\r\n            e.target.value = (e.target.value.match(/^\\d*(\\.?\\d{0,1})/g)[0]) || null\r\n\r\n        },\r\n\r\n\t\t//修改个别区域价格\r\n\t\tchangePartPrice($id, $managerUserId){\r\n\t\t\tthis.$router.push({path:'/changePartPriceZB',query:{goodsId:$id, managerId: $managerUserId, userId: $managerUserId, searchCity: \"\", searchCounty: \"\"}});\r\n\t\t},\r\n\t\t//查看改价日志\r\n\t\tshowChangePriceLog($id, $position, $goodsId){\r\n\t\t\tlet logType = 0;\r\n\t\t\tthis.position==\"省区经理\" ? logType=1 : $position==\"地区经理\" ?  logType=2 : logType=3 ;//职位5=sheng 4=di 3=xian\r\n\t\t\tlet datalist ={\r\n\t\t\t\tpageIndex:1,\r\n\t\t\t\tpageSize:10,\r\n\t\t\t\tpriceId:$id,//商品价格表id\r\n\t\t\t\tgoodsId:$goodsId,//商品id\r\n\t\t\t\tmanagerId:this.managerUserId,//省区经理id\r\n\t\t\t\tuserId:this.userId,//省区、地区、县区id\r\n\t\t\t\tlogType:logType  //1省区 2地区 3县区\r\n\t\t\t}\r\n\t\t\tgetChangePriceLogData(datalist).then(res => {\r\n\t\t\t\tthis.changPriLogData= res.data.data\r\n\t\t\t\tthis.$refs.changePriceLog.dialogShow();\r\n\t\t\t})\r\n\t\t}\r\n    },\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped=\"scoped\">\r\n\r\n.infoDetail{\r\n\tpadding:20px 30px;\r\n\tborder-bottom:1px solid #ddd;\r\n\tspan{\r\n\t\tpadding-right:15px;\r\n\t\tfont-size:14px;\r\n\t\tcolor:#333;\r\n\t\tline-height:40px;\r\n\t}\r\n\tbackground:#fff;\r\n}\r\n.table_wrap{\r\n\tmargin:30px;\r\n\tpadding:20px;\r\n\tbackground:#fff;\r\n\tcolor:#666;\r\n\t.tableInput{\r\n\t    border-radius: 4px;\r\n\t    border: 1px solid #dcdfe6;\r\n\t    box-sizing: border-box;\r\n\t    height: 40px;\r\n\t    line-height: 40px;\r\n\t    padding: 0 15px;\r\n\t    width: 60%;\r\n\r\n\t}\r\n}\r\n.operateWraper {\r\n\t\tmargin: 20px;\r\n\t\ttext-align: center;\r\n\t\t.el-button-red {\r\n\t\t\tpadding: 0 0.5rem;\r\n\t\t}\r\n\r\n\t}\r\n.dialog_changePrice_reason{\r\n\tpadding:30px;\r\n\t.checkReason{\r\n\t\tborder:1px solid #e6e6e6;\r\n\t\tborder-radius:5px;\r\n\t\twidth:80%;\r\n\t\theight:70px;\r\n\t\tvertical-align: middle;\r\n\t\tpadding:10px;\r\n\t\tline-height:26px;\r\n\t}\r\n}\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/headquarter/goodsManage/batChangePrice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('go-back',{attrs:{\"title\":\"改价\"}}),_vm._v(\" \"),_c('div',{staticClass:\"infoDetail\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('span',[_vm._v(_vm._s(_vm.areaName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.areaManager))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.position))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"table_wrap\"},[_c('el-table',{ref:\"multipleTable\",attrs:{\"data\":_vm.tableData,\"border\":\"\",\"tooltip-effect\":\"dark\",\"max-height\":\"530\"}},[_c('el-table-column',{attrs:{\"prop\":\"goodsName\",\"label\":\"商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"specsMax\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"manufacturer\",\"label\":\"生产企业\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"drugType\",\"label\":\"剂型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"standPrice\",\"label\":\"公司标准价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fixedPrice\",\"label\":\"省区定价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fewPrice\",\"label\":\"价格\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(scope.row.fewPrice),expression:\"scope.row.fewPrice\",modifiers:{\"trim\":true}}],class:{'tableInput': true, 'color_red' : scope.row.fixedPrice < scope.row.fewPrice, 'color_blue' : scope.row.fixedPrice > scope.row.fewPrice},attrs:{\"type\":\"number\"},domProps:{\"value\":(scope.row.fewPrice)},on:{\"change\":function($event){_vm.handleChange(scope.row,'fewPrice')},\"keydown\":_vm.handleInput2,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, \"fewPrice\", $event.target.value.trim())},\"blur\":function($event){_vm.$forceUpdate()}}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"operateBtn\",on:{\"click\":function($event){_vm.showChangePriceLog(scope.row.priceId, scope.row.position, scope.row.goodsId)}}},[_vm._v(\"改价日志\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"operateWraper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.changPriceNum>0),expression:\"changPriceNum>0\"}],staticClass:\"div-inline el-button-red\",on:{\"click\":function($event){_vm.dialogReasonVisible=true}}},[_vm._v(\"提交改价\")])]),_vm._v(\" \"),_c('changePriceLog',{ref:\"changePriceLog\",attrs:{\"changPriLogData\":_vm.changPriLogData}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"改价原因\",\"visible\":_vm.dialogReasonVisible,\"append-to-body\":true,\"width\":\"35%\"},on:{\"update:visible\":function($event){_vm.dialogReasonVisible=$event}}},[_c('div',{staticClass:\"dialog_body_content\"},[_c('div',{staticClass:\"dialog_changePrice_reason\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t改价原因：\\n\\t\\t\\t\\t\\t\"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.changeReason),expression:\"changeReason\"}],staticClass:\"checkReason\",attrs:{\"placeholder\":\"请填写改价原因\",\"name\":\"\",\"id\":\"\",\"cols\":\"30\",\"rows\":\"10\"},domProps:{\"value\":(_vm.changeReason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.changeReason=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.changeReason==''),expression:\"changeReason==''\"}],staticClass:\"dialogDisaBtn\",attrs:{\"type\":\"danger\",\"disabled\":\"\"}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.changeReason!=''),expression:\"changeReason!=''\"}],staticClass:\"dialog-sure-btn dialoperateBtn\",on:{\"click\":function($event){_vm.submitChangePrice()}}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0e2b3b26\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/headquarter/goodsManage/batChangePrice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e2b3b26\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./batChangePrice.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./batChangePrice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./batChangePrice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e2b3b26\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./batChangePrice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0e2b3b26\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/headquarter/goodsManage/batChangePrice.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}