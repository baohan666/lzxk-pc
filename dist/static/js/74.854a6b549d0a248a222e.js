webpackJsonp([74],{"2oIy":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("ZLEe"),s=a.n(n),r=a("ROW2"),l=a("cW/P"),o={data:function(){return{goodsName:"",materialCode:"",manufacturer:"0",manufacturerMenu:[],category:"0",categoryMenu:[],drugType:"0",drugTypeMenu:[],specsMax:"",specsMin:"",unit:"",version:"",licenseNumber:"",status:1,totalRecords:0,totalPageCnt:0,pageIndex:1,pageSize:10,pagin_show:!0,tableData3:[],AliOssUrlist:[]}},mounted:function(){var e=this.getsearchInfo(this.pageIndex);this.initData(e)},methods:{initData:function(e){var t=this;Object(l.r)(e).then(function(e){if(1!=e.data.code)return t.$message.success(e.data.msg),!1;var a=e.data.data;s()(a.dataList).length>0?(t.pagin_show=!0,t.totalRecords=a.totalRecords,t.totalPageCnt=a.totalPageCnt,t.pageIndex=a.pageIndex,t.tableData3=a.dataList):(t.tableData3=[],t.pagin_show=!1)}),Object(r.b)("departmentMenu")?this.departmentMenu=JSON.parse(Object(r.b)("departmentMenu")):this.departmentMenu=setDepartment()},getsearchInfo:function(e){var t=Object(r.b)("accountId");return{pageIndex:e,pageSize:this.pageSize,goodsName:this.goodsName,materialCode:this.materialCode,manufacturer:this.manufacturer,category:this.category,drugType:this.drugType,specsMax:this.specsMax,specsMin:this.specsMin,userId:t,unit:this.unit,version:this.version,licenseNumber:this.licenseNumber,status:this.status}},spreadCon:function(){var e=document.querySelector(".slideDown");if(e.classList.contains("spreadSlowlly"))return e.classList.remove("spreadSlowlly"),!1;e.classList.add("spreadSlowlly")},getManufacturer:function(){var e=this;if(s()(e.manufacturerMenu).length>0)return!1;Object(l.q)().then(function(t){if(1!=t.data.code)return e.$message.success(t.data.msg),!1;e.manufacturerMenu=t.data.data})},getCategory:function(){var e=this;if(s()(e.categoryMenu).length>0)return!1;Object(l.h)("").then(function(t){if(1!=t.data.code)return e.$message.success(t.data.msg),!1;e.categoryMenu=t.data.data})},getDrugType:function(){var e=this;if(s()(e.drugTypeMenu).length>0)return!1;Object(l.w)("").then(function(t){if(1!=t.data.code)return e.$message.success(t.data.msg),!1;e.drugTypeMenu=t.data.data})},toInquire:function(){var e=this.getsearchInfo(1);this.initData(e)},exportBtn:function(){var e=Object(r.b)("accountId"),t={goodsName:this.goodsName,materialCode:this.materialCode,manufacturer:this.manufacturer,category:this.category,drugType:this.drugType,specsMax:this.specsMax,specsMin:this.specsMin,unit:this.unit,version:this.version,licenseNumber:this.licenseNumber,status:this.status,userId:e};Object(l.c)(t).then(function(e){var t=(new Date).getTime()+".xls",a=new Blob([e.data]),n=document.createElement("a");n.download=t,n.style.display="none",n.href=URL.createObjectURL(a),console.log(n.href),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)})},view:function(e,t){this.$router.push({path:"/viewDetail_GoodsSQ",query:{id:e}})},handleSizeChange:function(e){this.pageSize=e;var t=this.getsearchInfo(1);this.initData(t)},handleCurrentChange:function(e){this.pageIndex=e;var t=this.getsearchInfo(e);this.initData(t)}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search_wrap"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"物料名称"}},[a("el-input",{attrs:{placeholder:"请输入物料名称"},model:{value:e.goodsName,callback:function(t){e.goodsName=t},expression:"goodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"物料编码"}},[a("el-input",{attrs:{placeholder:"请输入物料编码"},model:{value:e.materialCode,callback:function(t){e.materialCode=t},expression:"materialCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"生产企业"}},[a("el-select",{attrs:{placeholder:"请选择生产企业"},on:{focus:function(t){e.getManufacturer()}},model:{value:e.manufacturer,callback:function(t){e.manufacturer=t},expression:"manufacturer"}},[a("el-option",{attrs:{label:"请选择生产企业",value:"0"}}),e._v(" "),e._l(e.manufacturerMenu,function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"物料类别"}},[a("el-select",{attrs:{placeholder:"请选择物料类别"},on:{focus:function(t){e.getCategory()}},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}},[a("el-option",{attrs:{label:"请选择物料类别",value:"0"}}),e._v(" "),e._l(e.categoryMenu,function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})})],2)],1),e._v(" "),a("div",{staticClass:"div-inline select-more",on:{click:function(t){e.spreadCon()}}},[e._v("\n\t\t\t  \t更多筛选 "),a("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),a("button",{staticClass:"div-inline el-button-red",on:{click:function(t){e.toInquire()}}},[e._v("查询")]),e._v(" "),a("button",{staticClass:"div-inline el-button-red",on:{click:e.exportBtn}},[e._v("导出")])],1),e._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline slideDown",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"剂型"}},[a("el-select",{attrs:{placeholder:"请选择剂型"},on:{focus:function(t){e.getDrugType()}},model:{value:e.drugType,callback:function(t){e.drugType=t},expression:"drugType"}},[a("el-option",{attrs:{label:"请选择剂型",value:"0"}}),e._v(" "),e._l(e.drugTypeMenu,function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})})],2)],1),e._v(" "),a("el-form-item",{attrs:{label:"规格"}},[a("el-input",{attrs:{placeholder:"请输入规格"},model:{value:e.specsMax,callback:function(t){e.specsMax=t},expression:"specsMax"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"包装规格"}},[a("el-input",{attrs:{placeholder:"请输入包装规格"},model:{value:e.specsMin,callback:function(t){e.specsMin=t},expression:"specsMin"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单位"}},[a("el-input",{attrs:{placeholder:"请输入单位"},model:{value:e.unit,callback:function(t){e.unit=t},expression:"unit"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版本号"}},[a("el-input",{attrs:{placeholder:"请输入版本号"},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"批准文号"}},[a("el-input",{attrs:{placeholder:"请输入批准文号"},model:{value:e.licenseNumber,callback:function(t){e.licenseNumber=t},expression:"licenseNumber"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"table_wrap"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData3,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{prop:"goodsName",label:"物料名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"materialCode",label:"物料编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMax",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manufacturer",label:"生产企业"}}),e._v(" "),a("el-table-column",{attrs:{prop:"drugType",label:"剂型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"specsMin",label:"包装规格"}}),e._v(" "),a("el-table-column",{attrs:{prop:"category",label:"物料类别"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cityPrice",label:"地区经理标准价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"countyPrice",label:"县区经理标准价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operateBtn",on:{click:function(a){e.view(t.row.id,1)}}},[e._v("查看")])]}}])})],1),e._v(" "),e.pagin_show?a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":e.pageSize,layout:"sizes, prev, pager, next, jumper,total",total:e.totalRecords},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])},staticRenderFns:[]};var c=a("C7Lr")(o,i,!1,function(e){a("TXLQ")},"data-v-3b7456fe",null);t.default=c.exports},TXLQ:function(e,t){}});
//# sourceMappingURL=74.854a6b549d0a248a222e.js.map